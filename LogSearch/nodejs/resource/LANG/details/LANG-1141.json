{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12834790","self":"https://issues.apache.org/jira/rest/api/2/issue/12834790","key":"LANG-1141","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12331955","id":"12331955","description":"New features including Java 9 support","name":"3.5","archived":false,"released":true,"releaseDate":"2016-10-14"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2015-06-22T17:45:41.135+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Jun 24 20:26:56 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1901628978_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2015-06-24T20:26:56.551+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-1141/watchers","watchCount":2,"isWatching":false},"created":"2015-06-02T20:13:07.612+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326513","id":"12326513","description":"Feature and bugfix release","name":"3.4","archived":false,"released":true,"releaseDate":"2015-04-06"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-10-19T07:00:56.415+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313194","id":"12313194","name":"lang.text.*"}],"timeoriginalestimate":null,"description":"In versions of Commons Lang before 3.4 a {{Lookup}} object created from the {{systemPropertiesLookup()}} method offered a live view of system properties. So if a system property was changed after the creation of the lookup object, the new value was visible. In version 3.4 this is no longer the case.\n\nThe change seems to be related to LANG-1055. Here a fix was implemented which initializes a lookup object for system properties with a snapshot copy of the current properties. Changes made later on system properties are no longer reflected. I do not understand the background for this change because this is not really related to the original bug report.\n\nI would propose an implementation which fixes the reported problem in LANG-1055 and allows a live view on system properties. Maybe the snapshot use case could still be supported by an overloaded method.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12737666","id":"12737666","filename":"lang-1141.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oliver.heger%40t-online.de","name":"oliver.heger@t-online.de","key":"oliver.heger@t-online.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oliver.heger%40t-online.de&avatarId=21818","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oliver.heger%40t-online.de&avatarId=21818","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oliver.heger%40t-online.de&avatarId=21818","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oliver.heger%40t-online.de&avatarId=21818"},"displayName":"Oliver Heger","active":true,"timeZone":"Europe/Berlin"},"created":"2015-06-04T19:34:17.362+0000","size":7083,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12737666/lang-1141.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"StrLookup.systemPropertiesLookup() no longer reacts on changes on system properties","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oliver.heger%40t-online.de","name":"oliver.heger@t-online.de","key":"oliver.heger@t-online.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oliver.heger%40t-online.de&avatarId=21818","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oliver.heger%40t-online.de&avatarId=21818","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oliver.heger%40t-online.de&avatarId=21818","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oliver.heger%40t-online.de&avatarId=21818"},"displayName":"Oliver Heger","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oliver.heger%40t-online.de","name":"oliver.heger@t-online.de","key":"oliver.heger@t-online.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oliver.heger%40t-online.de&avatarId=21818","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oliver.heger%40t-online.de&avatarId=21818","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oliver.heger%40t-online.de&avatarId=21818","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oliver.heger%40t-online.de&avatarId=21818"},"displayName":"Oliver Heger","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12834790/comment/14573440","id":"14573440","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oliver.heger%40t-online.de","name":"oliver.heger@t-online.de","key":"oliver.heger@t-online.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oliver.heger%40t-online.de&avatarId=21818","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oliver.heger%40t-online.de&avatarId=21818","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oliver.heger%40t-online.de&avatarId=21818","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oliver.heger%40t-online.de&avatarId=21818"},"displayName":"Oliver Heger","active":true,"timeZone":"Europe/Berlin"},"body":"Proposed patch to solve both LANG-1055 and LANG-1141. This patch implements the lookup for system properties in a very straight-forward way. It ensures live access to system properties in all cases in a consistent way.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oliver.heger%40t-online.de","name":"oliver.heger@t-online.de","key":"oliver.heger@t-online.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oliver.heger%40t-online.de&avatarId=21818","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oliver.heger%40t-online.de&avatarId=21818","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oliver.heger%40t-online.de&avatarId=21818","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oliver.heger%40t-online.de&avatarId=21818"},"displayName":"Oliver Heger","active":true,"timeZone":"Europe/Berlin"},"created":"2015-06-04T19:34:17.369+0000","updated":"2015-06-04T19:34:17.369+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12834790/comment/14596313","id":"14596313","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"body":"Hello Oliver,\n\npatch looks good to me. I'm not sure but I think that os.name is set to HAL-9000 on the ASF build servers. So maybe it would be better to set the {{differentOsName}} like this:\n\n{code:java}\nfinal String differentOsName = originalOsName + \"-TEST\";\nSystem.setProperty(osName, differentOsName);\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"created":"2015-06-22T17:45:41.135+0000","updated":"2015-06-22T17:45:41.135+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12834790/comment/14596495","id":"14596495","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oliver.heger%40t-online.de","name":"oliver.heger@t-online.de","key":"oliver.heger@t-online.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oliver.heger%40t-online.de&avatarId=21818","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oliver.heger%40t-online.de&avatarId=21818","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oliver.heger%40t-online.de&avatarId=21818","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oliver.heger%40t-online.de&avatarId=21818"},"displayName":"Oliver Heger","active":true,"timeZone":"Europe/Berlin"},"body":"I am fine with a different name. This test was from the original report for LANG-1055.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oliver.heger%40t-online.de","name":"oliver.heger@t-online.de","key":"oliver.heger@t-online.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oliver.heger%40t-online.de&avatarId=21818","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oliver.heger%40t-online.de&avatarId=21818","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oliver.heger%40t-online.de&avatarId=21818","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oliver.heger%40t-online.de&avatarId=21818"},"displayName":"Oliver Heger","active":true,"timeZone":"Europe/Berlin"},"created":"2015-06-22T19:25:13.963+0000","updated":"2015-06-22T19:25:13.963+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12834790/comment/14596536","id":"14596536","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"body":"[~oliver.heger@t-online.de], feel free to apply the patch yourself.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"created":"2015-06-22T19:50:59.562+0000","updated":"2015-06-22T19:50:59.562+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12834790/comment/14600089","id":"14600089","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oliver.heger%40t-online.de","name":"oliver.heger@t-online.de","key":"oliver.heger@t-online.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oliver.heger%40t-online.de&avatarId=21818","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oliver.heger%40t-online.de&avatarId=21818","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oliver.heger%40t-online.de&avatarId=21818","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oliver.heger%40t-online.de&avatarId=21818"},"displayName":"Oliver Heger","active":true,"timeZone":"Europe/Berlin"},"body":"Patch applied in commit 80644cdab9a77db0a52d09d9ebb1f406912997d1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oliver.heger%40t-online.de","name":"oliver.heger@t-online.de","key":"oliver.heger@t-online.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oliver.heger%40t-online.de&avatarId=21818","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oliver.heger%40t-online.de&avatarId=21818","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oliver.heger%40t-online.de&avatarId=21818","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oliver.heger%40t-online.de&avatarId=21818"},"displayName":"Oliver Heger","active":true,"timeZone":"Europe/Berlin"},"created":"2015-06-24T20:26:56.575+0000","updated":"2015-06-24T20:26:56.575+0000"}],"maxResults":5,"total":5,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-1141/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2fj8v:"}}