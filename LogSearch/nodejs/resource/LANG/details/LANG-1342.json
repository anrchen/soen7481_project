{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13082937","self":"https://issues.apache.org/jira/rest/api/2/issue/13082937","key":"LANG-1342","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":null,"customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Jun 27 21:22:18 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-1342/watchers","watchCount":2,"isWatching":false},"created":"2017-06-27T20:47:33.219+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12338238","id":"12338238","description":"Feature and bugfix release, requires at least Java 7","name":"3.6","archived":false,"released":true,"releaseDate":"2017-06-08"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-06-27T21:22:18.794+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313203","id":"12313203","name":"lang.*"}],"timeoriginalestimate":null,"description":"[JEP 223: New Version-String Syntax|http://openjdk.java.net/jeps/223] introduces a new syntax for version strings. \nThis syntax is sort-of not incompatible with JavaVersion in 3.5, but this is likely to change as soon as someone finds a bug in JDK 9 after it's released.  There is a third specified version number component for security releases. Unlike the rest of the full version string, this component is significant for ordering, and cannot reliably be mapped to float. \n\nJEP 223 defines some regular expressions.  It also defines an api class (java.lang.Runtime.Version).  This class can't be used directly (since it's new with JDK-9), and the  API can't be directly emulated, as it requires java.lang.Optional.  However, it's not rocket science  (it is however regular expressions, so now you have problems 2.0).    \n\nI'll take a crack at a class implementing JEP-223 Versions and try to get them to play with JavaVersion.  \n\nThe existing mapping to float is unsuited to minor versions, so there has to be some new hackery  for java 9 even for two components.  ( JDK 9.11 should be >  JDK 9.2 )\n\nSince there's no java minor releases yet, there's a bit of freedom.  If the range of minor and patch versions is restricted to values between 0 and 99 there should be a way to make things work. \n\nIdeally the floaty stuff can be deprecated for removal before that matters. ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"JavaVersion is not consistent with JEP-223","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sesuncedu","name":"sesuncedu","key":"sesuncedu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sesuncedu&avatarId=31884","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sesuncedu&avatarId=31884","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sesuncedu&avatarId=31884","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sesuncedu&avatarId=31884"},"displayName":"Simon Spero","active":true,"timeZone":"America/New_York"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sesuncedu","name":"sesuncedu","key":"sesuncedu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sesuncedu&avatarId=31884","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sesuncedu&avatarId=31884","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sesuncedu&avatarId=31884","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sesuncedu&avatarId=31884"},"displayName":"Simon Spero","active":true,"timeZone":"America/New_York"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13082937/comment/16065494","id":"16065494","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sesuncedu","name":"sesuncedu","key":"sesuncedu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sesuncedu&avatarId=31884","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sesuncedu&avatarId=31884","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sesuncedu&avatarId=31884","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sesuncedu&avatarId=31884"},"displayName":"Simon Spero","active":true,"timeZone":"America/New_York"},"body":"Of course, JEP 223 is a little non-semantic-versiony on the semantics of specification.version .  A minor version may include non-breaking api changes from MR of specifications, but those versions aren't specification versions.\n\n\n{panel:title=Minor}\n$MINOR --- The minor version number, incremented for a minor update release that may contain compatible bug fixes, revisions to standard APIs mandated by a Maintenance Release of the relevant Platform Specification, and implementation features outside the scope of that Specification such as new JDK-specific APIs, additional service providers, new garbage collectors, and ports to new hardware architectures.\n\n{panel}\n\n\n*Major (GA)*\n{noformat}\n  java.version                    1.9.0         9\n  java.runtime.version            1.9.0-b100    9+100\n  java.vm.version                 1.9.0-b100    9+100\n  java.specification.version      1.9           9\n  java.vm.specification.version   1.9           9\n{noformat}\n\n*Minor #1 (GA)*\n{noformat}\n  java.version                    1.9.0_20      9.1.2\n  java.runtime.version            1.9.0_20-b62  9.1.2+62\n  java.vm.version                 1.9.0_20-b62  9.1.2+62\n  java.specification.version      1.9           9\n  java.vm.specification.version   1.9           9\n{noformat}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sesuncedu","name":"sesuncedu","key":"sesuncedu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sesuncedu&avatarId=31884","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sesuncedu&avatarId=31884","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sesuncedu&avatarId=31884","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sesuncedu&avatarId=31884"},"displayName":"Simon Spero","active":true,"timeZone":"America/New_York"},"created":"2017-06-27T21:22:18.794+0000","updated":"2017-06-27T21:22:18.794+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-1342/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3gt0f:"}}