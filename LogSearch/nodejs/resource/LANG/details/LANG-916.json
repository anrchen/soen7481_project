{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12668399","self":"https://issues.apache.org/jira/rest/api/2/issue/12668399","key":"LANG-916","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12331955","id":"12331955","description":"New features including Java 9 support","name":"3.5","archived":false,"released":true,"releaseDate":"2016-10-14"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-10-19T17:48:32.723+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri May 01 02:29:01 UTC 2015","customfield_12310420":"348333","customfield_12312320":null,"customfield_12310222":"3_*:*_1_*:*_242993_*|*_1_*:*_1_*:*_51411935716_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2015-05-01T02:29:01.710+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-916/watchers","watchCount":4,"isWatching":false},"created":"2013-09-13T01:19:23.068+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["patch","time"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317550","id":"12317550","description":"November release from 3.x","name":"3.1","archived":false,"released":true,"releaseDate":"2011-11-14"}],"issuelinks":[{"id":"12375179","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12375179","type":{"id":"10020","name":"Cloners","inward":"is cloned by","outward":"is a clone of","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10020"},"outwardIssue":{"id":"12438318","key":"LANG-538","self":"https://issues.apache.org/jira/rest/api/2/issue/12438318","fields":{"summary":"DateFormatUtils.format does not correctly change Calendar TimeZone in certain situations","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12410449","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12410449","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12781034","key":"LANG-1092","self":"https://issues.apache.org/jira/rest/api/2/issue/12781034","fields":{"summary":"Wrong formating of time zones with daylight saving time in FastDatePrinter","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12423355","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12423355","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12826527","key":"LANG-1127","self":"https://issues.apache.org/jira/rest/api/2/issue/12826527","fields":{"summary":"Use JUnit rules to set and reset the default Locale and TimeZone","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/6","id":"6","description":"A new unit, integration or system test.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/requirement.png","name":"Test","subtask":false}}}},{"id":"12423210","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12423210","type":{"id":"12310040","name":"Required","inward":"is required by","outward":"requires","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310040"},"outwardIssue":{"id":"12826190","key":"LANG-1123","self":"https://issues.apache.org/jira/rest/api/2/issue/12826190","fields":{"summary":"Unit test FastDatePrinterTimeZonesTest needs a timezone set","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chonton","name":"chonton","key":"charles_honton@intuit.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=charles_honton%40intuit.com&avatarId=23130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=charles_honton%40intuit.com&avatarId=23130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=charles_honton%40intuit.com&avatarId=23130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=charles_honton%40intuit.com&avatarId=23130"},"displayName":"Charles Honton","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-10-19T07:00:27.986+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313196","id":"12313196","name":"lang.time.*"}],"timeoriginalestimate":null,"description":"In LANG-538 issue, there is an unit test:\n\n{noformat}\n  public void testFormat_CalendarIsoMsZulu() {\n    final String dateTime = \"2009-10-16T16:42:16.000Z\";\n    GregorianCalendar cal = new GregorianCalendar(TimeZone.getTimeZone(\"GMT-8\"));\n    cal.clear();\n    cal.set(2009, 9, 16, 8, 42, 16);\n    cal.getTime();\n\n    FastDateFormat format = FastDateFormat.getInstance(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", TimeZone.getTimeZone(\"GMT\"));\n    assertEquals(\"dateTime\", dateTime, format.format(cal));\n  }\n{noformat}\n\nThis test passes successfully in lang-2.6 but failed in lang3-3.1:\n\n{noformat}\norg.junit.ComparisonFailure: dateTime expected:<2009-10-16T[16]:42:16.000Z> but was:<2009-10-16T[08]:42:16.000Z>\n{noformat}\n\nReproduced whit Sun Java version: 1.6.0_45 and 1.7.0_21 on Fedora 17 (Linux 3.9.10-100.fc17.i686.PAE).\n\nMoreover, I wrote another unit test showing that the timeZone parameter seems to be ignored :\n{noformat}\npublic void test() {\n\tCalendar cal = Calendar.getInstance(TimeZone.getTimeZone(\"Europe/Paris\"));\n\tcal.set(2009, 9, 16, 8, 42, 16);\n\n\t// System.out.println(DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.format(cal));\n\n\tSystem.out.println(\"long\");\n\tSystem.out.println(DateFormatUtils.format(cal.getTimeInMillis(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern(), TimeZone.getDefault()));\n\tSystem.out.println(DateFormatUtils.format(cal.getTimeInMillis(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern(),\n\t\t\tTimeZone.getTimeZone(\"Asia/Kolkata\")));\n\tSystem.out.println(DateFormatUtils.format(cal.getTimeInMillis(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern(),\n\t\t\tTimeZone.getTimeZone(\"Europe/London\")));\n\n\tSystem.out.println(\"calendar\");\n\tSystem.out.println(DateFormatUtils.format(cal, DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern(), TimeZone.getDefault()));\n\tSystem.out.println(DateFormatUtils.format(cal, DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern(), TimeZone.getTimeZone(\"Asia/Kolkata\")));\n\tSystem.out.println(DateFormatUtils.format(cal, DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern(), TimeZone.getTimeZone(\"Europe/London\")));\n\n\tSystem.out.println(\"calendar fast\");\n\tSystem.out.println(FastDateFormat.getInstance(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", TimeZone.getTimeZone(\"Europe/Paris\")).format(cal));\n\tSystem.out.println(FastDateFormat.getInstance(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", TimeZone.getTimeZone(\"Asia/Kolkata\")).format(cal));\n\tSystem.out.println(FastDateFormat.getInstance(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", TimeZone.getTimeZone(\"Europe/London\")).format(cal));\n}\n{noformat}\n\nGives the following console logs:\n{noformat}\nlong\n2009-10-16T08:42:16+02:00\n2009-10-16T12:12:16+05:30\n2009-10-16T07:42:16+01:00\ncalendar\n2009-10-16T08:42:16+02:00\n2009-10-16T08:42:16+02:00\n2009-10-16T08:42:16+02:00\ncalendar fast\n2009-10-16T08:42:16.975Z\n2009-10-16T08:42:16.975Z\n2009-10-16T08:42:16.975Z\n{noformat}\n\nWhen DateFormatUtils.format takes a long parameter, the time string is good.\nWhen DateFormatUtils.format takes a Calendar parameter, the time string is wrong, the timezone parameter is IGNORED.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12609274","id":"12609274","filename":"LANG-916.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tn","name":"tn","key":"tn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Neidhart","active":true,"timeZone":"Europe/Berlin"},"created":"2013-10-19T17:48:32.719+0000","size":635,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12609274/LANG-916.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12723977","id":"12723977","filename":"LANG-916-B.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2015-04-08T18:16:45.879+0000","size":789,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12723977/LANG-916-B.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12724073","id":"12724073","filename":"LANG-916-C.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2015-04-09T00:19:43.368+0000","size":3277,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12724073/LANG-916-C.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12729372","id":"12729372","filename":"LANG-916-final-git.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2015-04-30T01:40:17.604+0000","size":5610,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12729372/LANG-916-final-git.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"348629","customfield_12312823":null,"summary":"CLONE - DateFormatUtils.format does not correctly change Calendar TimeZone in certain situations","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Sun JDK 1.6.0_45 and 1.7.0_21 on Fedora 17 (Linux 3.9.10-100.fc17.i686.PAE).\n","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/13799956","id":"13799956","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tn","name":"tn","key":"tn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Neidhart","active":true,"timeZone":"Europe/Berlin"},"body":"The attached patch solves the problem by creating a calendar with the correct timezone from the formatter before actually formatting the object.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tn","name":"tn","key":"tn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Neidhart","active":true,"timeZone":"Europe/Berlin"},"created":"2013-10-19T17:48:32.723+0000","updated":"2013-10-19T17:48:32.723+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/13800138","id":"13800138","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"body":"Setting this to Review Patch. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"created":"2013-10-20T14:08:32.103+0000","updated":"2013-10-20T14:08:32.103+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/13800363","id":"13800363","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"Is the fix version here 2.7 or 3.2? Sounds like it's an issue in 3.1 rather than 2.6.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-21T05:17:18.559+0000","updated":"2013-10-21T05:17:18.559+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/13800375","id":"13800375","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tn","name":"tn","key":"tn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Neidhart","active":true,"timeZone":"Europe/Berlin"},"body":"The patch was created against trunk, so is for 3.2","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tn","name":"tn","key":"tn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Neidhart","active":true,"timeZone":"Europe/Berlin"},"created":"2013-10-21T05:40:31.609+0000","updated":"2013-10-21T05:40:31.609+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/13805134","id":"13805134","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"Christian - are you able to test out Thomas' patch? I'm wary to rely on successful builds on my side as they would have passed for 3.1 when that was released.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-25T07:52:09.227+0000","updated":"2013-10-25T07:52:09.227+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/13805159","id":"13805159","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tn","name":"tn","key":"tn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Neidhart","active":true,"timeZone":"Europe/Berlin"},"body":"Ah I forgot to add a unit test ...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tn","name":"tn","key":"tn","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Neidhart","active":true,"timeZone":"Europe/Berlin"},"created":"2013-10-25T08:23:18.623+0000","updated":"2013-10-25T08:23:18.623+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/13805296","id":"13805296","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"body":"Move my System.out.println test in a @Test.\n\n{noformat}\n\t@Test\n\tpublic void test23c2bis() throws Exception {\n\n\t\tSystem.out.println(\"java_version: \" + SystemUtils.JAVA_VERSION);\n\n\t\tSystem.out.println(TimeZone.getDefault().getID());\n\t\tCalendar cal = Calendar.getInstance(TimeZone.getTimeZone(\"Europe/Paris\"));\n\t\tcal.set(2009, 9, 16, 8, 42, 16);\n\n\t\t// Long.\n\t\t{\n\t\t\tString value = DateFormatUtils.format(cal.getTimeInMillis(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern(), TimeZone.getDefault());\n\t\t\tAssert.assertEquals(\"long\", \"2009-10-16T08:42:16+02:00\", value);\n\t\t}\n\t\t{\n\t\t\tString value = DateFormatUtils.format(cal.getTimeInMillis(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern(),\n\t\t\t\t\tTimeZone.getTimeZone(\"Asia/Kolkata\"));\n\t\t\tAssert.assertEquals(\"long\", \"2009-10-16T12:12:16+05:30\", value);\n\t\t}\n\t\t{\n\t\t\tString value = DateFormatUtils.format(cal.getTimeInMillis(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern(),\n\t\t\t\t\tTimeZone.getTimeZone(\"Europe/London\"));\n\t\t\tAssert.assertEquals(\"long\", \"2009-10-16T07:42:16+01:00\", value);\n\t\t}\n\n\t\t// Calendar.\n\t\t{\n\t\t\tString value = DateFormatUtils.format(cal, DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern(), TimeZone.getDefault());\n\t\t\tAssert.assertEquals(\"calendar\", \"2009-10-16T08:42:16+02:00\", value);\n\t\t}\n\t\t{\n\t\t\tString value = DateFormatUtils.format(cal, DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern(), TimeZone.getTimeZone(\"Asia/Kolkata\"));\n\t\t\tAssert.assertEquals(\"calendar\", \"2009-10-16T12:12:16+05:30\", value);\n\t\t}\n\t\t{\n\t\t\tString value = DateFormatUtils.format(cal, DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern(), TimeZone.getTimeZone(\"Europe/London\"));\n\t\t\tAssert.assertEquals(\"calendar\", \"2009-10-16T07:42:16+01:00\", value);\n\t\t}\n\n\t\t// calendar fast.\n\t\t{\n\t\t\tString value = FastDateFormat.getInstance(\"yyyy-MM-dd'T'HH:mm:ss Z\", TimeZone.getTimeZone(\"Europe/Paris\")).format(cal);\n\t\t\tAssert.assertEquals(\"calendar\", \"2009-10-16T08:42:16 +0200\", value);\n\t\t}\n\t\t{\n\t\t\tString value = FastDateFormat.getInstance(\"yyyy-MM-dd'T'HH:mm:ss Z\", TimeZone.getTimeZone(\"Asia/Kolkata\")).format(cal);\n\t\t\tAssert.assertEquals(\"calendar\", \"2009-10-16T12:12:16 +0530\", value);\n\t\t}\n\t\t{\n\t\t\tString value = FastDateFormat.getInstance(\"yyyy-MM-dd'T'HH:mm:ss Z\", TimeZone.getTimeZone(\"Europe/London\")).format(cal);\n\t\t\tAssert.assertEquals(\"calendar\", \"2009-10-16T07:42:16 +0100\", value);\n\t\t}\n\t}\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2013-10-25T13:40:05.864+0000","updated":"2013-10-25T13:40:05.864+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/13805297","id":"13805297","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"body":"I done the following actions:\n- svn checkout https://svn.apache.org/repos/asf/commons/proper/lang/trunk commons-lang3 (last commit was r1535653 | bayard | 2013-10-25 10:19:29 +0200)\n- mvn install => failed because tests failing, then I removed all tests\n- mvn install, copy the generated jar in my local test project => testFormat_CalendarIsoMsZulu() and test23c2bis()  FAILED\n- I put the patch, mvn install, copy the jar in my local test project => testFormat_CalendarIsoMsZulu() and test23c2bis() finished SUCCESSFULLY\n\nI conclude that the patch is good. But I am disappointed that:\n- before patch, some mvn tests not passed\n- after patch, some of the passing FastDatePrinter mvn tests do not passed any longer.\n\nSuggestions:\n- add testFormat_CalendarIsoMsZulu()\n- add test23c2bis() \n- check other tests in FastDatePrinter\n- check other tests","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2013-10-25T13:42:33.000+0000","updated":"2013-10-25T13:46:37.821+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/13805594","id":"13805594","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"Could you list the tests that fail when you build/test straight out of svn? I assume, from the committers involved, that we have people testing successfully in US/Pacific, US/Eastern and CET timezones, ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-25T19:01:06.326+0000","updated":"2013-10-25T19:01:06.326+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/13806100","id":"13806100","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"body":"No more failed with fresh svn checkout (r1535916 | bayard | 2013-10-26 04:50:25 +0200). The magic of continuous integration? :-)\n\nAfter patch:\n{noformat}\nFailed tests: \n  DateFormatUtilsTest.testTimeISO:165 expected:<T1[0]:11:12> but was:<T1[4]:11:12>\n  DateFormatUtilsTest.testSMTP:215 expected:<Sun, 08 Jun 2003 1[0:11:12 -03]00> but was:<Sun, 08 Jun 2003 1[5:11:12 +02]00>\n  DateFormatUtilsTest.testDateTimeISO:117 expected:<2002-02-23T[09]:11:12> but was:<2002-02-23T[13]:11:12>\n  DateFormatUtilsTest.testTimeNoTISO:189 expected:<1[0]:11:12> but was:<1[4]:11:12>\n  DateFormatUtilsTest.testDateISO:150 expected:<2002-02-23[-03]:00> but was:<2002-02-23[+01]:00>\n  FastDatePrinterTest.testCalendarTimezoneRespected:286 expected:<3:51[AM LIN]T> but was:<3:51[PM CES]T>\n  FastDatePrinterTest.testLang538:214 dateTime expected:<2009-10-16T[08]:42:16.000Z> but was:<2009-10-16T[16]:42:16.000Z>\n  DurationFormatUtilsTest.testFormatPeriodISO:266 expected:<2002-02-23T[09:11:12-03]:00> but was:<2002-02-23T[13:11:12+01]:00>\n  FastDateFormat_PrinterTest>FastDatePrinterTest.testCalendarTimezoneRespected:286 expected:<3:51[AM LIN]T> but was:<3:51[PM CES]T>\n  FastDateFormat_PrinterTest>FastDatePrinterTest.testLang538:214 dateTime expected:<2009-10-16T[08]:42:16.000Z> but was:<2009-10-16T[16]:42:16.000Z>\n\nTests run: 2382, Failures: 10, Errors: 0, Skipped: 5\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2013-10-26T13:52:32.057+0000","updated":"2013-10-26T13:52:32.057+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/13806140","id":"13806140","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"I just checked out the old r1535653 revision and it installs fine. If the failing tests were time.* related, I strongly suspect it was related to the system date/time of your machine. \n\nThe 2.x vs 3.x difference is weird; looking at it, I'm guessing that LANG-462 reintroduced the issue though I've not dug into the changelogs yet. It's a little concerning that the LANG-538 and this fix aren't the same. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-26T17:17:11.359+0000","updated":"2013-10-26T17:17:11.359+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/13869009","id":"13869009","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"body":"[~bayard] where are we standing with this? I'd like to fix all open bugs that are in 'Review Patch' state in the january release (a.k.a. 3.3)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"created":"2014-01-12T11:32:34.990+0000","updated":"2014-01-12T11:32:34.990+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14374843","id":"14374843","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"body":"Applying the patch blows up a whole lot of tests. [~cpm] can you have a look please?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"created":"2015-03-22T09:09:10.464+0000","updated":"2015-03-22T09:09:10.464+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14484761","id":"14484761","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"body":"Here are the results of my investigations.\n\nA) Thomas Neidhart patch is really good.\nI confirm that the patch from Thomas Neidhart is the good way. \nIt is easy to verify:\n\nFastDateFormat.getInstance(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", TimeZone.getTimeZone(\"Asia/Kolkata\")).format(cal)\n\n1-> FastDateFormat.getInstance(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", TimeZone.getTimeZone(\"Asia/Kolkata\"))\n2--> .format(cal) \n3---> return  printer.format(calendar)\n4----> return format(calendar, new StringBuffer(this.mMaxLengthEstimate)).toString()\n5-----> return applyRules(calendar, buf);\n\nStep 1: store the TimeZone parameter in a FastDateFormat instance and build rules from the pattern to display.\nStep 5: apply previously build rules to the parameter 'calendar'. So, there is no use of the TimeZone parameter stored in step 1 => **BUG**\n\nIn his patch, Thomas Neidhart calls the newCalendar(); method which build a new calendar using the TimeZone parameter stored in step 1. Then, this new calendar is used to apply rules.\n\nIt is exactly what it is done in other methods called \"format\" too but with a different parameter type (Date, long...). For each, there is a comment \"// hard code GregorianCalendar\".\n\nThe method \"format\" must build a hard code GregorianCalendar.\n\n\nB) Test errors come from bad test.\nAlmost all test errors come from a flawed test. In FastDatePrinterTimeZonesTest.testCalendarTimezoneRespected, we can see:\n\nfinal String actualValue = FastDateFormat.getInstance(PATTERN).format(cal);\n\nAs the TimeZone is not setted, then the TimeZone.getDefault() is set and so it is different than the original timezone. So the displayed result is not the same.\n\nFix: final String actualValue = FastDateFormat.getInstance(PATTERN, this.timeZone).format(cal);\n\nIt must also be true of other tests.\n\n\nSo, definitively, the patch from Thomas Neidhart is the good way.\n\nI will try to provide patches for tests.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2015-04-08T05:47:59.552+0000","updated":"2015-04-08T05:49:56.465+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14485707","id":"14485707","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"body":"Fix missing timezone set in one test which flooding errors after applying the LANG-916.patch file.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2015-04-08T18:16:45.885+0000","updated":"2015-04-08T18:22:14.119+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14485764","id":"14485764","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"body":"This is a test error review after applying the patch LANG-916.patch file.\n\nAbout the revison I am using:\n{noformat}\ncpm > svn  log -l 1\n------------------------------------------------------------------------\nr1672030 | djones | 2015-04-08 10:38:02 +0200 (mer. 08 avril 2015) | 1 ligne\n\ncpm > svn info\nURL: https://svn.apache.org/repos/asf/commons/proper/lang/trunk\nRepository Root: https://svn.apache.org/repos/asf\nRepository UUID: 13f79535-47bb-0310-9956-ffa450edef68\nRevision: 1672106\nNode Kind: directory\nSchedule: normal\nLast Changed Author: djones\nLast Changed Rev: 1672030\nLast Changed Date: 2015-04-08 10:38:02 +0200 (Wed, 08 Apr 2015)\n{noformat}\n\n\nList test errors existing in trunk before any change:\n{noformat}\ncpm > mvn test\n[...]\nFailed tests:\n  FastDateFormat_ParserTest>FastDateParserTest.testTimeZoneStrategyPattern:654 français (Belgique):Heure d'Europe de l'Est UTC+3\n  FastDateParserTest.testTimeZoneStrategyPattern:654 français (Belgique):Heure d'Europe de l'Est UTC+3\n[...]\nTests run: 3544, Failures: 2, Errors: 0, Skipped: 5\n{noformat}\n\n\nApply the Thomas Neidhart patch:\n{noformat}\ncpm > svn patch ../LANG-916/LANG-916.patch\nU         src/main/java/org/apache/commons/lang3/time/FastDatePrinter.java\n>     application bloc @@ -458,7 +458,9 @@ décallage 19\n{noformat}\n\nList test errors after applying the patch LANG-916.patch file:\n{noformat}\ncpm > mvn test\nFailed tests:\n[...]\n  FastDatePrinterTimeZonesTest.testCalendarTimezoneRespected:61 expected:<[2:19PM EDT]> but was:<[6:19PM UTC]>\n  FastDatePrinterTimeZonesTest.testCalendarTimezoneRespected:61 expected:<[2:19PM AST]> but was:<[6:19PM UTC]>\n  FastDatePrinterTimeZonesTest.testCalendarTimezoneRespected:61 expected:<[12:19PM MDT]> but was:<[6:19PM UTC]>\n  FastDatePrinterTimeZonesTest.testCalendarTimezoneRespected:61 expected:<[1:19PM ACT]> but was:<[6:19PM UTC]>\n[...]\nTests run: 3544, Failures: 617, Errors: 0, Skipped: 5\n{noformat}\n\nFailure count is huge but almost 600 failures come from a single test.\nApply the LANG-916-B.patch file to fix a missing timezone set wich make one test flooding errors:\n{noformat}\ncpm > svn patch ../LANG-916/LANG-916-B.patch\nU         src/test/java/org/apache/commons/lang3/time/FastDatePrinterTimeZonesTest.java\n{noformat}\n\nList test errors remaining after applying the patch LANG-916-B.patch file:\n{noformat}\ncpm > mvn test\nFailed tests:\nResults :\n\nFailed tests:\n  DateFormatUtilsTest.testDateISO:161 expected:<2002-02-23[-03]:00> but was:<2002-02-23[+01]:00>\n  DateFormatUtilsTest.testDateTimeISO:120 expected:<2002-02-23T[09]:11:12> but was:<2002-02-23T[13]:11:12>\n  DateFormatUtilsTest.testSMTP:226 expected:<Sun, 08 Jun 2003 1[0:11:12 -03]00> but was:<Sun, 08 Jun 2003 1[5:11:12 +02]00>\n  DateFormatUtilsTest.testTimeISO:176 expected:<T1[0]:11:12> but was:<T1[4]:11:12>\n  DateFormatUtilsTest.testTimeNoTISO:200 expected:<1[0]:11:12> but was:<1[4]:11:12>\n  DurationFormatUtilsTest.testFormatPeriodISO:270 expected:<2002-02-23T[09:11:12-03]:00> but was:<2002-02-23T[13:11:12+01]:00>\n  FastDateFormat_ParserTest>FastDateParserTest.testTimeZoneStrategyPattern:654 français (Belgique):Heure d'Europe de l'Est UTC+3\n  FastDateFormat_PrinterTest>FastDatePrinterTest.testLang538:215 dateTime expected:<2009-10-16T[08]:42:16.000Z> but was:<2009-10-16T[16]:42:16.000Z>\n  FastDateParserTest.testTimeZoneStrategyPattern:654 français (Belgique):Heure d'Europe de l'Est UTC+3\n  FastDatePrinterTest.testLang538:215 dateTime expected:<2009-10-16T[08]:42:16.000Z> but was:<2009-10-16T[16]:42:16.000Z>\n  FastDatePrinterTest.testTimeZoneAsZ:270 expected:<+0[0]00> but was:<+0[2]00>\n\nTests run: 3544, Failures: 11, Errors: 0, Skipped: 5\n{noformat}\n\nSo, only 11 failures are remaining. These test errors can be sort like this:\n\na) Tests depending of the host geographic location\n{noformat}\n  DateFormatUtilsTest.testDateISO:161 expected:<2002-02-23[-03]:00> but was:<2002-02-23[+01]:00>\n  DateFormatUtilsTest.testDateTimeISO:120 expected:<2002-02-23T[09]:11:12> but was:<2002-02-23T[13]:11:12>\n  DateFormatUtilsTest.testSMTP:226 expected:<Sun, 08 Jun 2003 1[0:11:12 -03]00> but was:<Sun, 08 Jun 2003 1[5:11:12 +02]00>\n  DateFormatUtilsTest.testTimeISO:176 expected:<T1[0]:11:12> but was:<T1[4]:11:12>\n  DateFormatUtilsTest.testTimeNoTISO:200 expected:<1[0]:11:12> but was:<1[4]:11:12>\n  DurationFormatUtilsTest.testFormatPeriodISO:270 expected:<2002-02-23T[09:11:12-03]:00> but was:<2002-02-23T[13:11:12+01]:00>\n{noformat}\n\n These tests are using some DateFormatUtils static constants which are defined with the default TimeZone depending of the host and his geographical location. In the assert, the changing result is compare with a manual constant string value. So, the test failed if the tester is not in the same time zone than the test writer.\n\n The worst part is that you can not change the TimeZone associated to these DateFormatUtils constants. As static attribute, they are initialized on the first JVM call of the class. So, we would have to set the default TimeZone before every tests. But who would want that?\n\n\nExample:\n\n{noformat}\npublic void testDateISO(){\n[...]\ntext = DateFormatUtils.ISO_DATE_TIME_ZONE_FORMAT.format(cal);\n        assertEquals(\"2002-02-23-03:00\", text);\n{noformat}\n\nb) Tests depending of the host geographic location (another way)\n{noformat}\n  FastDatePrinterTest.testLang538:215 dateTime expected:<2009-10-16T[08]:42:16.000Z> but was:<2009-10-16T[16]:42:16.000Z>\n  FastDateFormat_PrinterTest>FastDatePrinterTest.testLang538:215 dateTime expected:<2009-10-16T[08]:42:16.000Z> but was:<2009-10-16T[16]:42:16.000Z>\n  FastDatePrinterTest.testTimeZoneAsZ:270 expected:<+0[0]00> but was:<+0[2]00>\n{noformat}\n\n These tests are using explicit default timezone from host and make compare with manual static string. So, the test failed if the tester is not in the same time zone than the test writer.\n\n\nc) Test errors already there in r1672030\n{noformat}\n  FastDateFormat_ParserTest>FastDateParserTest.testTimeZoneStrategyPattern:654 français (Belgique):Heure d'Europe de l'Est UTC+3\n  FastDateParserTest.testTimeZoneStrategyPattern:654 français (Belgique):Heure d'Europe de l'Est UTC+3\n{noformat}\n\nEnd of this test error review. Hope this will help.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2015-04-08T18:40:30.418+0000","updated":"2015-04-08T18:46:27.455+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14485860","id":"14485860","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"body":"[~cpm] thank you for the thorough analysis. What time zone are you in? We should be able to reproduce this by setting the default time zone on our machines to your time zone.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"created":"2015-04-08T19:28:37.071+0000","updated":"2015-04-08T19:28:37.071+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14486263","id":"14486263","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"body":"I am living in Paris (France, Europe) so my timezone is \"Europe/Paris\" (GMT/UTC +01:00).\n\nIn Java:\n{noformat}\nTimeZone.setDefault(TimeZone.getTimeZone(\"Europe/Paris\"));\n{noformat}\n\nWith Unix system command:\n{noformat}\ncpm > date\njeu. avril  9 00:54:33 CEST 2015\ncpm > export TZ=\"Asia/Kolkata\"\ncpm > date\njeu. avril  9 04:24:46 IST 2015\ncpm > mvn test\n[...]\n{noformat}\n\nRegards.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2015-04-08T22:57:04.566+0000","updated":"2015-04-09T00:21:27.888+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14486403","id":"14486403","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"body":"In order to follow the bug fix LANG-916, I propose an additional test with the LANG-916-C.patch file.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2015-04-09T00:19:43.380+0000","updated":"2015-04-09T00:20:14.555+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14501500","id":"14501500","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"body":"[~cpm]: very nice, I can confirm that LANG-916-C.patch reproduces the bug. Do you have a fix for this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"created":"2015-04-18T18:05:21.085+0000","updated":"2015-04-18T18:05:21.085+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14501672","id":"14501672","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"body":"Thomas Neidhart has provided the fix LANG-916.patch. I confirm that this is a good fix.\n\nI explain why in the following comment: https://issues.apache.org/jira/browse/LANG-916?focusedCommentId=14484761&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14484761\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2015-04-19T03:26:40.110+0000","updated":"2015-04-19T03:26:40.110+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14501675","id":"14501675","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"body":"After applying the patch from Thomas Neidhart, there is a single test which flood ~600 failures. To fix this test, I had provided the fix LANG-916-B.patch\n\nSo the final patch for LANG-916 could be the concatenate of LANG-916.patch, LANG-916-B.patch and LANG-916-C.patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2015-04-19T03:42:14.001+0000","updated":"2015-04-19T03:56:12.949+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14501682","id":"14501682","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"body":"After applying the LANG-916.patch and the LANG-916-B.patch, 9 test failures are remaining (see my review above). These tests are bugged because they are depending of the host geographic location. \n\nDo these errors require a new issue/ticket? Or should they be fixed in this one?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2015-04-19T04:01:50.927+0000","updated":"2015-04-19T04:01:50.927+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14514864","id":"14514864","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"body":"[~cpm] thank you for the effort you're putting into fixing this. Really appreciated! The best would be if we had one single patch file, that contains all we need to fix this and the test reproducing the problem. Can you put that together? Note that we have migrated commons lang to git (see http://commons.apache.org/proper/commons-lang/source-repository.html for the new repository location). If you like, you can also use GitHub for contributing. Just open a PR against github.com/apache/commons-lang.\n\nThank you!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"created":"2015-04-27T20:03:32.212+0000","updated":"2015-04-27T20:03:32.212+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14520684","id":"14520684","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"body":"Final patch containing fix and unit test reproducing the problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2015-04-30T01:40:17.622+0000","updated":"2015-04-30T01:44:55.612+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14520688","id":"14520688","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"body":"Git is welcome. :-) GitHub is not a free software so I do not use it. \n\nOn this JIRA, I uploaded an attachment patch file in git format: LANG-916-final-git.patch\nIt contains fix and unit test reproducing the problem.\n\nFYI, my ICLA is sent.\nLet me know if all is good. :-)\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2015-04-30T01:56:21.449+0000","updated":"2015-04-30T01:56:21.449+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14520754","id":"14520754","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"body":"After applying the patch, there is a single unit test which flood ~600 failures. To fix this unit test, I created the LANG-1123 issue and uploaded a patch file.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2015-04-30T02:58:45.250+0000","updated":"2015-04-30T08:20:47.488+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14522303","id":"14522303","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chonton","name":"chonton","key":"charles_honton@intuit.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=charles_honton%40intuit.com&avatarId=23130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=charles_honton%40intuit.com&avatarId=23130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=charles_honton%40intuit.com&avatarId=23130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=charles_honton%40intuit.com&avatarId=23130"},"displayName":"Charles Honton","active":true,"timeZone":"America/Los_Angeles"},"body":"There is a basic problem in the DateFormatUtils.format(Calendar, String pattern, TimeZone, Locale) api.  (And furthermore, the FastDateFormat/FastDatePrinter.format(Calendar) apis.)  Should the implementation pay attention to the TimeZone set on the Calendar or the TimeZone that is passed in the constructor?   I recommend deprecating this method with an explanation what it currently does and what the desired practice should be.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chonton","name":"chonton","key":"charles_honton@intuit.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=charles_honton%40intuit.com&avatarId=23130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=charles_honton%40intuit.com&avatarId=23130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=charles_honton%40intuit.com&avatarId=23130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=charles_honton%40intuit.com&avatarId=23130"},"displayName":"Charles Honton","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-30T21:28:52.950+0000","updated":"2015-04-30T21:28:52.950+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14522422","id":"14522422","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"body":"I am not agree with you <3 A Calendar parameter is containing an absolute date time information. If I put a calendar parameter and a timezone parameter, it is because I want use this absolute date time with another timezone. The new timezone has priority. This is a common need. So the method is relevant and unambiguous.\n\nIs there any error in my reasoning? :D\n\nI see that the null timezone case is not described in method comment. If timezone parameter is null then the default timezone is used. Perhaps it would be good to add a comment about it. (on)\n\nBecause this subject is very different than the LANG-916 subject, can I suggest to create a dedicated issue for it?\n\nRegards. :-)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cpm","name":"cpm","key":"cpm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cpm&avatarId=17834","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpm&avatarId=17834","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpm&avatarId=17834","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpm&avatarId=17834"},"displayName":"Christian P. MOMON","active":true,"timeZone":"Europe/Paris"},"created":"2015-04-30T22:48:43.696+0000","updated":"2015-04-30T22:53:04.846+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14522484","id":"14522484","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chonton","name":"chonton","key":"charles_honton@intuit.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=charles_honton%40intuit.com&avatarId=23130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=charles_honton%40intuit.com&avatarId=23130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=charles_honton%40intuit.com&avatarId=23130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=charles_honton%40intuit.com&avatarId=23130"},"displayName":"Charles Honton","active":true,"timeZone":"America/Los_Angeles"},"body":"I agree with your reasoning.  I'll update the javadoc to make that clear.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chonton","name":"chonton","key":"charles_honton@intuit.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=charles_honton%40intuit.com&avatarId=23130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=charles_honton%40intuit.com&avatarId=23130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=charles_honton%40intuit.com&avatarId=23130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=charles_honton%40intuit.com&avatarId=23130"},"displayName":"Charles Honton","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-30T23:37:14.574+0000","updated":"2015-04-30T23:37:14.574+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12668399/comment/14522675","id":"14522675","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chonton","name":"chonton","key":"charles_honton@intuit.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=charles_honton%40intuit.com&avatarId=23130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=charles_honton%40intuit.com&avatarId=23130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=charles_honton%40intuit.com&avatarId=23130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=charles_honton%40intuit.com&avatarId=23130"},"displayName":"Charles Honton","active":true,"timeZone":"America/Los_Angeles"},"body":"commit 775203dd2cfce017910d04c58a0b1b4e0a64923c\n\nThese changes have subtle implications.  The TimeZone of the Calendar being formatted will no longer be used as the TImeZone of the formatted output.  The TimeZone specified during construction of the Formatter/Printer will be used as the formatted TimeZone, (if no TimeZone is specified during construction, the system default TimeZone will be used.)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chonton","name":"chonton","key":"charles_honton@intuit.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=charles_honton%40intuit.com&avatarId=23130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=charles_honton%40intuit.com&avatarId=23130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=charles_honton%40intuit.com&avatarId=23130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=charles_honton%40intuit.com&avatarId=23130"},"displayName":"Charles Honton","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-01T02:29:01.752+0000","updated":"2015-05-01T02:29:01.752+0000"}],"maxResults":31,"total":31,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-916/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1o2an:"}}