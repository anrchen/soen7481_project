{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12342556","self":"https://issues.apache.org/jira/rest/api/2/issue/12342556","key":"LANG-76","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314743","id":"12314743","description":"","name":"2.5","archived":true,"released":true,"releaseDate":"2010-02-25"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2006-06-08T15:42:51.000+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sun Feb 21 02:58:05 UTC 2010","customfield_12310420":"34084","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_68091016039_*|*_6_*:*_1_*:*_55507494095_*|*_5_*:*_1_*:*_0_*|*_4_*:*_1_*:*_16367030511","customfield_12312321":null,"resolutiondate":"2010-02-21T17:39:39.645+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-76/watchers","watchCount":2,"isWatching":false},"created":"2005-09-15T18:20:39.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311701","id":"12311701","description":"","name":"2.1","archived":true,"released":true,"releaseDate":"2005-06-13"}],"issuelinks":[{"id":"12313442","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12313442","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12342108","key":"LANG-153","self":"https://issues.apache.org/jira/rest/api/2/issue/12342108","fields":{"summary":"[lang] Can't XMLDecode an Enum","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=niallp","name":"niallp","key":"niallp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Niall Pemberton","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-03-03T09:34:29.993+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313205","id":"12313205","name":"lang.enums.*","description":"Note that this package is deprecated and will not feature in future Lang releases."}],"timeoriginalestimate":null,"description":"Hi,\nI encountered with problem using EnumUtils.getEnum() in 1.5. It appears that my\nEnum class should be accessed first so constructor will be called. In 1.4 it was\nenough to have myClass.class, so all static members were initialized. In 1.5 it\ndoesn't work.\n\nI noticed that static members are not initialized anymore while acessing to\nclass definition. See the code\npublic class Test {\n    public static final class TT{\n        public static final TT one = new TT();\n\n        private TT(){\n            System.out.println(\"Called TT\" );\n        }\n    }\n    \n    public static void main(String[] args) {\n     Class cl = TT.class;\n   // System.out.println( TT.one);\n  //  System.out.println(TT.class.isAssignableFrom(String.class));\n    }\n}\nIn 1.4 constructor of TT is called, while in 1.5 is not. \n\nActually, according to the spec\n(http://java.sun.com/docs/books/jls/second_edition/html/execution.doc.html#57946),\nthis is right behavior of Java. \nUnfortunately, I didn't succeded to think about good solution..\nP.s. I know that in 1.5 we have enum built-in, but it is not the same, and we\ntry to move to 1.5 without too much changes","customfield_10010":36666.0,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"74899","customfield_12312823":null,"summary":"[lang] EnumUtils.getEnum() doesn't work well in 1.5","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=igorl","name":"igorl","key":"igorl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Igor Laberov","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=igorl","name":"igorl","key":"igorl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Igor Laberov","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Operating System: other\nPlatform: Other","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12410408","id":"12410408","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=igorl","name":"igorl","key":"igorl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Igor Laberov","active":true,"timeZone":"Etc/UTC"},"body":"It is possible to load Enum static fields using code below:\n\n           Field[] fields = enumCl.getFields();\n            if(fields.length>0){\n                try {\n                    fields[0].get(null); //get value of first static  - actual\naccess to this class instance\n                } catch (Exception e) {\n                    log.trace(\"Can't access static field of \" + enumCl);\n                } \n            }\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=igorl","name":"igorl","key":"igorl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Igor Laberov","active":true,"timeZone":"Etc/UTC"},"created":"2005-09-15T23:03:53.000+0000","updated":"2005-09-15T23:03:53.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12415298","id":"12415298","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"In an effort to get 2.2 out sooner rather than later, I'm assiging all the Enum issues to 2.3. There's been no work on them currently and might be best to focus on them in a 2.3 release instead of trying to squeeze them into the 2.2 release.\n\nHopefully this will keep the 2.3 release scope pretty tight.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2006-06-08T15:42:51.000+0000","updated":"2006-06-08T15:42:51.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12427868","id":"12427868","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scolebourne","name":"scolebourne","key":"scolebourne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Colebourne","active":true,"timeZone":"Europe/London"},"body":"See also http://bright-green.com/blog/2006_08_14/class_loading_vs_class_initial.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scolebourne","name":"scolebourne","key":"scolebourne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Colebourne","active":true,"timeZone":"Europe/London"},"created":"2006-08-14T12:13:38.000+0000","updated":"2006-08-14T12:13:38.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12427918","id":"12427918","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mister__m","name":"mister__m","key":"mister__m","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Nascimento Santos","active":true,"timeZone":"Etc/UTC"},"body":"I've filed a RFE for solving the problem in the correct way: <a href=\"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6459208\">http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6459208</a>","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mister__m","name":"mister__m","key":"mister__m","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Nascimento Santos","active":true,"timeZone":"Etc/UTC"},"created":"2006-08-14T15:48:35.000+0000","updated":"2006-08-14T15:48:35.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12444477","id":"12444477","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"Apologies for how long it's taken to get around to this issue - largely because it doesn't seem like an issue with much of a solution. Even if the RFE is solved (and it looks like it might be someday), I suspect it's unlikely it would be backported to Java 5.0.\n\nIf I'm understanding things correctly, the problem is that in 1.4 Igor had code that just said IgorEnum.class. This initialised all the constant enum declarations within his IgorEnum class - which I presume was necessary for some reason (ie: he couldn't just say 'IgorEnum.ONE' and have it work). \n\nThe work-around would appear to be to create a static enumInitialize() method within the IgorEnum class that looks much like this:\n\n    static void enumInitialize() {\n        TT tmp = ONE;    // or whatever kind of setup call is needed\n    }\n\nThen change the 'Class tmp = IgorEnum.class' to 'IgorEnum.enumInitialize()'. \n\nI suspect I'm missing something in the complexity behind why the IgorEnum.class call was desirable in the first place.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2006-10-24T19:57:22.000+0000","updated":"2006-10-24T19:57:22.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12455926","id":"12455926","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"I can't see this being fixed in 2.3 (or ever). Assigning to 3.0 for the moment.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2006-12-06T09:02:31.000+0000","updated":"2006-12-06T09:02:31.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12467228","id":"12467228","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"Alternative workaround from Peter Knuts (received via email):\n\nI have a work around that can be used to mitigate the problem that was not suggested previously.\nThe solution is simpler than the previously suggested workarounds.\n\nDefine a static method inside the defining enum class to load the enum, ex:\n\npublic class TestEnum extends Enum {\n  private TestEnum(String name) {\n    super(name);\n  }\n  public static final TestEnum VALUE_ONE = new TestEnum(\"Value one\");\n\n  public static TestEnum getEnum(String name) {\n    return (TestEnum) EnumUtils.getEnum(TestEnum.class, name);\n  }\n}\n\nThis works fine and the class will be loaded due to the static method call\nJava Language Specification:\nA class or interface type T will be initialized immediately before the first occurance of any one of the following:\n* T is a class and an instance of T is created\n* T is a class and a static method declared by T is invoked.\n...\n\nThe downside of this is that the method can not be implemented in a common super class but needs to be (re)implemented in every enum class that needs this capability (also true for other EnumUtils methods like getEnumList etc).\n\nThe upside is that the calling side will be simpler:\n  Before: (TestEnum) EnumUtils.getEnum(TestEnum.class, name);\n  After: TestEnum.getEnum(name); ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-01-25T02:58:48.472+0000","updated":"2007-01-25T02:58:48.472+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12507592","id":"12507592","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mschulte","name":"mschulte","key":"mschulte","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marcus Schulte","active":true,"timeZone":"Europe/Berlin"},"body":"I think EnumUtils.getEnum() should force class initialization, e.g. by calling\n\nClass.forName(enumClass.getFullName(), true, enumClass.getClassLoader())\n\nOtherwise it will simply not reliably do what it is advertised to do. Plus it will spare people a hard-to-find bug popping up after migrating their code to 5.0.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mschulte","name":"mschulte","key":"mschulte","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marcus Schulte","active":true,"timeZone":"Europe/Berlin"},"created":"2007-06-23T10:50:38.112+0000","updated":"2007-06-23T10:50:38.112+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12508298","id":"12508298","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cyboc","name":"cyboc","key":"cyboc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joe Kelly","active":true,"timeZone":"Etc/UTC"},"body":"I like Marcus Schulte's suggestion. EnumUtils.getEnum() should force class initialization.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cyboc","name":"cyboc","key":"cyboc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joe Kelly","active":true,"timeZone":"Etc/UTC"},"created":"2007-06-26T19:27:38.448+0000","updated":"2007-06-26T19:27:38.448+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12539902","id":"12539902","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"Bringing forward into 2.4 for consideration again. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-11-03T08:09:50.243+0000","updated":"2007-11-03T08:09:50.243+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12541253","id":"12541253","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pbenedict","name":"pbenedict","key":"pbenedict","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"pbenedict","active":false,"timeZone":"Etc/UTC"},"body":"Relying on .class to perform class initialization is, to the best of my knowledge, a well-known behavior of past JVMs but also an undocumented feature. Unless someone can show from a JVM spec, that referencing .class *must* perform class initialization, then I strongly believe this issue is based on an undocumented developer assumption. The \"problem\" in JDK 5 is therefore neither right or wrong and I recommend this as a WONTFIX.\n\nIf you want to force initialization, create a static initialization block (static { }) and do what needs to be done there.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pbenedict","name":"pbenedict","key":"paul4christ79","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=paul4christ79&avatarId=37065","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=paul4christ79&avatarId=37065","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=paul4christ79&avatarId=37065","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=paul4christ79&avatarId=37065"},"displayName":"Paul Benedict","active":true,"timeZone":"America/Chicago"},"created":"2007-11-09T08:22:00.070+0000","updated":"2007-11-09T08:22:00.070+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12541933","id":"12541933","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bens","name":"bens","key":"bens","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ben Speakmon","active":true,"timeZone":"Etc/UTC"},"body":"Gotta agree with Paul. 1.5's behavior is to spec, so it's correct by definition. Since this Enum is for pre-1.5 users, I don't see a benefit to the work involved reconciling it with 1.5. I'd say wontfix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bens","name":"bens","key":"bens","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ben Speakmon","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-12T20:13:38.892+0000","updated":"2007-11-12T20:13:38.892+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12541939","id":"12541939","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"Marking as wontfix as I don't see it being likely that anything will be done here.\n\nJoe's suggestion is interesting, and if anyone would like to explore that, prove that it solves the problem and attach as a patch, then please reopen.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-11-12T20:30:55.027+0000","updated":"2007-11-12T20:30:55.027+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12743455","id":"12743455","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lewbloch","name":"lewbloch","key":"lewbloch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lew Bloch","active":true,"timeZone":"Etc/UTC"},"body":"It is egregious that the project refuses to fix a bug caused by its own intentional violation of the Java Language Specification (JLS).  It is also strange that the powers that be think this library will never be used in a Java 5+ environment - there are use cases for having a well-thought-out typesafe enumeration that can do things not available to standard 'enum' classes, e.g., inherit from other enumerations or interoperate with legacy pre-1.5 systems.  This shunning of responsibility is a saddening disappointment coming from an Apache project, especially one so fundamental and widely used as commons-lang.  Palming the bug off as \"[r]elying on ... an undocumented feature\" is especially disingenuous.  That classes used to initialize on references to the 'class' literal was a bug, not a feature, and contravened the explicit statement in the JLS second edition, s.12.4.1: \"A class or interface will not be initialized under any other circumstance.\" (Statement follows list of class-initialization triggers that does not include reference to the 'class' literal.)  For shame.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lewbloch","name":"lewbloch","key":"lewbloch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lew Bloch","active":true,"timeZone":"Etc/UTC"},"created":"2009-08-14T21:34:31.067+0000","updated":"2009-08-14T21:34:31.067+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12743817","id":"12743817","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"Reopening issue based on Lew's diatribe. Fix version will be set to 2.x. I don't expect to see such a release happen and this code has been removed from 3.0, however if a 2.x release does happen then I want to make sure this is up for consideration along with the other Enum issues.\n\nPlus it will be easier to find the problem if it is in an open issue than a closed issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-08-16T07:15:49.075+0000","updated":"2009-08-16T07:15:49.075+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12828847","id":"12828847","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=niallp","name":"niallp","key":"niallp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Niall Pemberton","active":true,"timeZone":"Etc/UTC"},"body":"So whats the solution for this? I've never looked at Lang's enums, anyone care to submit a patch as I'm hoping to do a 2.5 release","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=niallp","name":"niallp","key":"niallp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Niall Pemberton","active":true,"timeZone":"Etc/UTC"},"created":"2010-02-02T23:51:14.304+0000","updated":"2010-02-02T23:51:14.304+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12835922","id":"12835922","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=niallp","name":"niallp","key":"niallp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Niall Pemberton","active":true,"timeZone":"Etc/UTC"},"body":"I added a test case for this:\n\n  http://svn.apache.org/viewvc?rev=911954&view=rev\n\nAnd I tried testing using Sun's JDK 1.5.0_01 and 1.5.0_22 on a Windows XP machine and I cannot reproduce it.\n\nCan anyone see whats wrong with my test case - or provide one that can reproduce the error?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=niallp","name":"niallp","key":"niallp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Niall Pemberton","active":true,"timeZone":"Etc/UTC"},"created":"2010-02-19T19:57:06.694+0000","updated":"2010-02-19T19:57:06.694+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342556/comment/12836308","id":"12836308","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=niallp","name":"niallp","key":"niallp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Niall Pemberton","active":true,"timeZone":"Etc/UTC"},"body":"OK I managed to re-produce it by creating a separate test (EnumUtilsLang76Test) and compiling that test with source/target set to 1.5 in the ant build.\n\nhttp://svn.apache.org/viewvc?view=revision&revision=912292\n\nI used Marcus Schulte's suggestion to fix it\n\n{code}\n     Class.forName(enumClass.getFullName(), true, enumClass.getClassLoader())\n{code}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=niallp","name":"niallp","key":"niallp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Niall Pemberton","active":true,"timeZone":"Etc/UTC"},"created":"2010-02-21T02:58:05.239+0000","updated":"2010-02-21T02:58:05.239+0000"}],"maxResults":18,"total":18,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-76/votes","votes":3,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0d6xj:"}}