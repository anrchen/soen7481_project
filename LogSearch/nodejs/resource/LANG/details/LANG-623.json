{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12464331","self":"https://issues.apache.org/jira/rest/api/2/issue/12464331","key":"LANG-623","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2010-05-21T06:48:53.656+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri May 21 07:19:52 UTC 2010","customfield_12310420":"147453","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_769541902_*|*_6_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2010-05-21T06:48:53.709+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-623/watchers","watchCount":0,"isWatching":false},"created":"2010-05-12T09:03:11.807+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314743","id":"12314743","description":"","name":"2.5","archived":true,"released":true,"releaseDate":"2010-02-25"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-05-21T07:19:52.955+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313203","id":"12313203","name":"lang.*"}],"timeoriginalestimate":null,"description":"Failing test case :\n\n{code}\n    @Ignore\n    public void convert_English_Thorn(){\n    \tbeforeConversion = \"AAÞþaa\";\n        expectedAfterConversion = \"aattaa\";\n        Assert.assertEquals(\"Test NOT correctly configured length not correct\",\n                beforeConversion.length(),\n                expectedAfterConversion.length());\n        afterConversion = converter.replaceAccents(beforeConversion);\n        Assert.assertEquals(\"Cannot convert (Icelandic/old english thorn) '\" + beforeConversion + \"'.\", expectedAfterConversion, afterConversion);\n    }\n{code}\n\n{code}\n \n    String replaceAccents(final String aField) {\n        String result = StringUtils.lowerCase(aField),\n               target = null,\n               charsToRemove = null;\n        char charToPut = Constants.UNDERSCORE_CHARACTER,\n             charToRemove = Constants.UNDERSCORE_CHARACTER;\n        for (Object element : conversionMappings.keySet()) {\n            target = element.toString();\n            if (target.equals(Constants.SPECIAL_CHARACTER_KEY)) {\n                continue;\n            }\n            result = StringUtils.stripToNull(result);\n            charsToRemove = conversionMappings.getProperty(target, Constants.EMPTY_STRING).toString();\n            charToPut = target.charAt(Constants.ZERO);\n            for (int i=0; i<charsToRemove.length(); i++) {\n                charToRemove = charsToRemove.charAt(i);\n                result = StringUtils.replaceChars(result, charToRemove, charToPut);\n            }\n        }\n\n        return result;\n    }\n{code}\n\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12444286","id":"12444286","filename":"ConversionMappings.UTF8","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsmets","name":"tsmets","key":"tsmets","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Smets - A3 SYSTEM","active":true,"timeZone":"Etc/UTC"},"created":"2010-05-12T09:09:12.772+0000","size":381,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12444286/ConversionMappings.UTF8"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"74700","customfield_12312823":null,"summary":"Replace characters seems to not be able to replace Icelanding Thorn (Þ, þ)","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsmets","name":"tsmets","key":"tsmets","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Smets - A3 SYSTEM","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsmets","name":"tsmets","key":"tsmets","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Smets - A3 SYSTEM","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"W2K3-server / JDK 1.5 (from SAP) ","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12464331/comment/12866517","id":"12866517","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsmets","name":"tsmets","key":"tsmets","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Smets - A3 SYSTEM","active":true,"timeZone":"Etc/UTC"},"body":"This file in pure UTF-8 encoding (Eclipse or jEdit) is converted into a property-file through an ANT-task (native2ascii) :\n\n\n    <echo>Converting ...</echo>\n    <native2ascii encoding=\"UTF-8\"\n                  src=\"${resources.dir}\"\n                  dest=\"${build.dir}\"\n                  includes=\"**/*.UTF8\" ext=\".properties\"\n                  description=\"Conversion the weird foreign characters into proper UTF-8 escaped characters\" />\n    <echo>Conversion done !</echo>","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsmets","name":"tsmets","key":"tsmets","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Smets - A3 SYSTEM","active":true,"timeZone":"Etc/UTC"},"created":"2010-05-12T09:09:12.829+0000","updated":"2010-05-12T09:09:12.829+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12464331/comment/12869900","id":"12869900","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"Seems odd. \n\nTesting, the following passes:\n\n+    public void testLang623() {\n+        assertEquals(\"t\", StringUtils.replaceChars(\"\\u00DE\", '\\u00DE', 't'));\n+        assertEquals(\"t\", StringUtils.replaceChars(\"\\u00FE\", '\\u00FE', 't'));\n+    }\n\nSo I think the issue is outside of StringUtils.replace. \n\nClosing the issue, but please reopen if something is wrong with my test above.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-05-21T06:48:53.656+0000","updated":"2010-05-21T06:48:53.656+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12464331/comment/12869902","id":"12869902","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=joehni","name":"joehni","key":"joehni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=joehni&avatarId=36575","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=joehni&avatarId=36575","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=joehni&avatarId=36575","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=joehni&avatarId=36575"},"displayName":"Joerg Schaible","active":true,"timeZone":"Europe/Berlin"},"body":"This test can only proof something if Thomas set the encoding option of the compiler to utf-8. Otherwise the test is simply wrong. Therefore it is always a bad idea to put non-ASCII characters directly into source.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=joehni","name":"joehni","key":"joehni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=joehni&avatarId=36575","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=joehni&avatarId=36575","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=joehni&avatarId=36575","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=joehni&avatarId=36575"},"displayName":"Joerg Schaible","active":true,"timeZone":"Europe/Berlin"},"created":"2010-05-21T07:19:52.915+0000","updated":"2010-05-21T07:19:52.915+0000"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-623/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0d5pb:"}}