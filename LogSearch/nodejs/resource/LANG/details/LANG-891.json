{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12645222","self":"https://issues.apache.org/jira/rest/api/2/issue/12645222","key":"LANG-891","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2013-04-29T16:50:42.078+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri May 17 17:03:14 UTC 2013","customfield_12310420":"325584","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1571205889_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-05-17T17:04:07.975+0000","workratio":0,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-891/watchers","watchCount":2,"isWatching":false},"created":"2013-04-29T12:37:22.130+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["date","dateutil","dd/mm/yy"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":345600,"aggregatetimeoriginalestimate":345600,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317952","id":"12317952","description":"Bug fixes and new features, at least requires Java 6.0","name":"3.2","archived":false,"released":true,"releaseDate":"2014-01-01"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chonton","name":"chonton","key":"charles_honton@intuit.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=charles_honton%40intuit.com&avatarId=23130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=charles_honton%40intuit.com&avatarId=23130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=charles_honton%40intuit.com&avatarId=23130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=charles_honton%40intuit.com&avatarId=23130"},"displayName":"Charles Honton","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-10-15T02:33:08.542+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313196","id":"12313196","name":"lang.time.*"}],"timeoriginalestimate":345600,"description":"hi,\nwhile working with multiple date format, when i have date in format 25/11/09 i.e in dd/MM/yy it return me a wrong result.\n\nPrevious Date: 01/11/09, Returned Date: 2009-01-11\nPrevious Date: 25/11/09, Returned Date: 2011-01-11\n\ni was expecting my return date should be in yyyy-MM-dd format\n\nOther Formar Result:\nPrevious Date: 25.11.2009, Returned Date: 2009-11-25\nPrevious Date: 25.Nov.2009, Returned Date: 2009-11-25\nPrevious Date: Nov.09, Returned Date: 2009-11-01\nPrevious Date: Nov.2009, Returned Date: 2009-11-01\nPrevious Date: 09.Nov, Returned Date: 2009-11-01\nPrevious Date: Nov2509, Returned Date: 2009-11-25\nPrevious Date: 2009-11-25, Returned Date: 2009-11-25\n\n\n\n","customfield_10010":null,"timetracking":{"originalEstimate":"96h","remainingEstimate":"96h","originalEstimateSeconds":345600,"remainingEstimateSeconds":345600},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":345600,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"325929","customfield_12312823":null,"summary":"working with multiple date Formats return a wrong date for dd/mm/yy","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amit04jain","name":"amit04jain","key":"amit04jain","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amit Lodha","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amit04jain","name":"amit04jain","key":"amit04jain","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amit Lodha","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":345600,"percent":0},"customfield_12311024":null,"environment":"Windows","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":345600,"percent":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12645222/comment/13644641","id":"13644641","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chonton","name":"chonton","key":"charles_honton@intuit.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=charles_honton%40intuit.com&avatarId=23130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=charles_honton%40intuit.com&avatarId=23130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=charles_honton%40intuit.com&avatarId=23130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=charles_honton%40intuit.com&avatarId=23130"},"displayName":"Charles Honton","active":true,"timeZone":"America/Los_Angeles"},"body":"The following test passes:\n\n{code}\n    @Test\n    public void testLang891() {\n      final String pattern = \"dd/MM/yyyy\";\n      final FastDateFormat formatter= FastDateFormat.getInstance(pattern, NEW_YORK, Locale.US);\n      final Calendar cal= Calendar.getInstance(NEW_YORK, Locale.US);\n\n      cal.clear();\n      cal.set(2009, 10, 1);\n      assertEquals(\"01/11/2009\", formatter.format(cal.getTime()));\n\n      cal.clear();\n      cal.set(2009, 10, 25);\n      assertEquals(\"25/11/2009\", formatter.format(cal));\n    }\n{code}\n\nIs this issue a parsing or formatting failure?  Please attach a unit test which demonstrates the failure.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chonton","name":"chonton","key":"charles_honton@intuit.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=charles_honton%40intuit.com&avatarId=23130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=charles_honton%40intuit.com&avatarId=23130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=charles_honton%40intuit.com&avatarId=23130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=charles_honton%40intuit.com&avatarId=23130"},"displayName":"Charles Honton","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-29T16:50:42.078+0000","updated":"2013-04-29T16:50:42.078+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12645222/comment/13660860","id":"13660860","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chonton","name":"chonton","key":"charles_honton@intuit.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=charles_honton%40intuit.com&avatarId=23130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=charles_honton%40intuit.com&avatarId=23130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=charles_honton%40intuit.com&avatarId=23130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=charles_honton%40intuit.com&avatarId=23130"},"displayName":"Charles Honton","active":true,"timeZone":"America/Los_Angeles"},"body":"The following unit test demonstrates that parsing is working.\n{code}\n\n    @Test\n    public void testLang891() throws ParseException {\n    \tfor(Locale locale : Locale.getAvailableLocales()) {\n    \t\tfor(String tzId : TimeZone.getAvailableIDs()) {\n    \t\t\tTimeZone timezone = TimeZone.getTimeZone(tzId);\n    \t\t\ttestLang891(locale, timezone);\n    \t\t}\n    \t}\n    }\n\n    public void testLang891(Locale locale, TimeZone timezone) throws ParseException {\n      final String pattern = \"dd/MM/yy\";\n      final FastDateFormat parser= FastDateFormat.getInstance(pattern, timezone, locale);\n      final Calendar cal= Calendar.getInstance(timezone, locale);\n      int definingYear = cal.get(Calendar.YEAR);\n\n      Date date= parser.parse(\"01/11/09\");\n      cal.setTime(date);\n      cal.setTimeZone(timezone);\n\n      assertEquals(locale.getDisplayLanguage()+\" \"+timezone.getDisplayName(), expandYear(definingYear, 9), cal.get(Calendar.YEAR));\n      assertEquals(locale.getDisplayLanguage()+\" \"+timezone.getDisplayName(), 10, cal.get(Calendar.MONTH));\n      assertEquals(locale.getDisplayLanguage()+\" \"+timezone.getDisplayName(), 01, cal.get(Calendar.DAY_OF_MONTH));\n\n      date= parser.parse(\"25/11/09\");\n      cal.setTime(date);\n      cal.setTimeZone(timezone);\n\n      assertEquals(locale.getDisplayLanguage()+\" \"+timezone.getDisplayName(), expandYear(definingYear, 9), cal.get(Calendar.YEAR));\n      assertEquals(locale.getDisplayLanguage()+\" \"+timezone.getDisplayName(), 10, cal.get(Calendar.MONTH));\n      assertEquals(locale.getDisplayLanguage()+\" \"+timezone.getDisplayName(), 25, cal.get(Calendar.DAY_OF_MONTH));\n    }\n\n    private int expandYear(int definingYear, int stubYear) {\n    \tif(stubYear>100) {\n    \t\treturn stubYear;\n    \t}\n\t    // add century to year - choose the century that starts at most 80 years earlier or 20 years later\n    \tint thisCentury= stubYear + definingYear - definingYear%100;\n        if(thisCentury < definingYear+20) {\n            return thisCentury;\n        }\n        return thisCentury-100;\n    }\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chonton","name":"chonton","key":"charles_honton@intuit.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=charles_honton%40intuit.com&avatarId=23130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=charles_honton%40intuit.com&avatarId=23130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=charles_honton%40intuit.com&avatarId=23130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=charles_honton%40intuit.com&avatarId=23130"},"displayName":"Charles Honton","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-17T17:03:14.661+0000","updated":"2013-05-17T17:03:14.661+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-891/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1k65r:"}}