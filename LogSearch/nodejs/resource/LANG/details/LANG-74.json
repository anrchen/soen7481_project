{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12341333","self":"https://issues.apache.org/jira/rest/api/2/issue/12341333","key":"LANG-74","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311701","id":"12311701","description":"","name":"2.1","archived":true,"released":true,"releaseDate":"2005-06-13"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2004-03-16T02:09:07.000+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Apr 26 13:10:50 UTC 2006","customfield_12310420":"147033","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":"2006-05-16T12:27:41.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-74/watchers","watchCount":0,"isWatching":false},"created":"2004-03-15T21:03:34.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-10-16T08:54:57.605+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Hi,\n\naccording to the javadoc of the ArrayUtils.addAll() method, a new array is\nreturned. However, if 1 of the 2 given arrays is null, the not-null array is\nreturned (and not a new array).\n\nattached are a fix and a junit test\n\nMaarten","customfield_10010":27661.0,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12332802","id":"12332802","filename":"ASF.LICENSE.NOT.GRANTED--ArrayUtils.java.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maartenc","name":"maartenc","key":"maartenc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Maarten Coene","active":true,"timeZone":"Europe/Brussels"},"created":"2004-03-15T21:04:40.000+0000","size":830,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12332802/ASF.LICENSE.NOT.GRANTED--ArrayUtils.java.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12332803","id":"12332803","filename":"ASF.LICENSE.NOT.GRANTED--ArrayUtilsAddTest.java.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maartenc","name":"maartenc","key":"maartenc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Maarten Coene","active":true,"timeZone":"Europe/Brussels"},"created":"2004-03-15T21:05:49.000+0000","size":1182,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12332803/ASF.LICENSE.NOT.GRANTED--ArrayUtilsAddTest.java.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"74901","customfield_12312823":null,"summary":"[lang] [patch] ArrayUtils.addAll doesn't always return new array","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maartenc","name":"maartenc","key":"maartenc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Maarten Coene","active":true,"timeZone":"Europe/Brussels"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maartenc","name":"maartenc","key":"maartenc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Maarten Coene","active":true,"timeZone":"Europe/Brussels"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Operating System: other\nPlatform: Other","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12341333/comment/12406227","id":"12406227","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maartenc","name":"maartenc","key":"maartenc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Maarten Coene","active":true,"timeZone":"Europe/Brussels"},"body":"Created an attachment (id=10783)\npatch for ArrayUtils\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maartenc","name":"maartenc","key":"maartenc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Maarten Coene","active":true,"timeZone":"Europe/Brussels"},"created":"2004-03-15T21:04:40.000+0000","updated":"2004-03-15T21:04:40.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12341333/comment/12406228","id":"12406228","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maartenc","name":"maartenc","key":"maartenc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Maarten Coene","active":true,"timeZone":"Europe/Brussels"},"body":"Created an attachment (id=10784)\npatch for ArrayUtilsAddTest\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maartenc","name":"maartenc","key":"maartenc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Maarten Coene","active":true,"timeZone":"Europe/Brussels"},"created":"2004-03-15T21:05:49.000+0000","updated":"2004-03-15T21:05:49.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12341333/comment/12406229","id":"12406229","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ggregory%40seagullsw.com","name":"ggregory@seagullsw.com","key":"ggregory@seagullsw.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"ggregory@seagullsw.com","active":false,"timeZone":"Etc/UTC"},"body":"I think we need to discuss this. You are correct that the Javadoc states that a\nnew array is returned but the Javadoc ALSO states the special cases:\n\nArrayUtils.addAll(array1, null)   = array1\nArrayUtils.addAll(null, array2)   = array2\n\nWhich clearly show the boundary cases. So the code and Javadoc DO match. The\nreal question for the API is: Should a new array ALWAYS be created?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ggregory%40seagullsw.com","name":"ggregory@seagullsw.com","key":"ggregory@seagullsw.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"ggregory@seagullsw.com","active":false,"timeZone":"Etc/UTC"},"created":"2004-03-16T02:09:07.000+0000","updated":"2004-03-16T02:09:07.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12341333/comment/12406230","id":"12406230","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maartenc","name":"maartenc","key":"maartenc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Maarten Coene","active":true,"timeZone":"Europe/Brussels"},"body":"I think the behaviour of the addAll mehod should be the same in all situations.\nI use this method in a scenario where I modify the returned array. I thought it\nwould be safe to modify the array, because I was working on a new array. So\nmodifying the result wasn't going to change the input arrays in any way ...\nwrong ... I spent some time to find the cause of what was going wrong in my\nalgorithm.\n\nPerhahps it was a bit naive from me and I should have read the javadocs more\ncarefully, maybe I should have created a clone of the result and modify that\nclone (and doing some unnecessary array creations), or maybe I can check myself\nif one of the input arrays is null .... but I thought it would be easier if the\naddAll method always returned a new array, regardless of whether one of the\narguments is null.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maartenc","name":"maartenc","key":"maartenc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Maarten Coene","active":true,"timeZone":"Europe/Brussels"},"created":"2004-03-16T03:43:28.000+0000","updated":"2004-03-16T03:43:28.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12341333/comment/12406231","id":"12406231","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scolebourne%40joda.org","name":"scolebourne@joda.org","key":"scolebourne@joda.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Colebourne","active":true,"timeZone":"Etc/UTC"},"body":"IIRC this is a new API method so we can change it at this point. Although a \nlittle wasteful, I think that this is a valid change to make the API more \nconsistent. With arrays, whether it is cloned or not is significant.\n\nSo, I'm +1 to the change.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scolebourne%40joda.org","name":"scolebourne@joda.org","key":"scolebourne@joda.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Colebourne","active":true,"timeZone":"Etc/UTC"},"created":"2004-03-16T07:33:30.000+0000","updated":"2004-03-16T07:33:30.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12341333/comment/12406232","id":"12406232","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ggregory%40seagullsw.com","name":"ggregory@seagullsw.com","key":"ggregory@seagullsw.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"ggregory@seagullsw.com","active":false,"timeZone":"Etc/UTC"},"body":"Yes, it is a post 2.0 method. Patches applied, thank you.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ggregory%40seagullsw.com","name":"ggregory@seagullsw.com","key":"ggregory@seagullsw.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"ggregory@seagullsw.com","active":false,"timeZone":"Etc/UTC"},"created":"2004-03-16T09:42:00.000+0000","updated":"2004-03-16T09:42:00.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12341333/comment/12406233","id":"12406233","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"2.1 released, closing.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2006-04-26T13:10:50.000+0000","updated":"2006-04-26T13:10:50.000+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-74/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0d6xz:"}}