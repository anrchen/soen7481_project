{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12340404","self":"https://issues.apache.org/jira/rest/api/2/issue/12340404","key":"LANG-48","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311706","id":"12311706","description":"","name":"2.0","archived":true,"released":true,"releaseDate":"2003-09-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2003-03-31T00:26:21.000+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed May 14 10:01:40 UTC 2003","customfield_12310420":"147014","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":"2006-05-16T12:45:38.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-48/watchers","watchCount":0,"isWatching":false},"created":"2002-11-07T23:41:04.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311706","id":"12311706","description":"","name":"2.0","archived":true,"released":true,"releaseDate":"2003-09-02"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2006-05-16T12:45:38.000+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"The nestableDelegate dumps the stacktrace bottomup instead of topdown as is the custom in the JDK \n(especially in JDK 1.4's own chained exceptions).\n\nThus when using NestableException you \nwill always see the first low-level exception (e.g. an Null Exception) and you'll have to go all the \nway to the bottom to see the highlevel exception (e.g. an HibernateQueryException: Error while \nparsing query at 's.count()')\n\nThis is not very friendly to users because hopefully the \nhighlevel exception will be the best explanation in 9 out of 10 causes, it is only when debugging or \nin misbehaved exception handling one like to see the root causes - and THEN one can go down and read \nthe bottom of the stack trace.\n\nThus, I would suggest that you make it possible to have \nNestableDelegate print the stacktrace in reverce so the highlevel exception get printed first \nand THEN the lower-levels.\n\nAnd optimal one could set an \nNestableDelegate.printStackTraceTopDown=true as an system property so one could choose \nwhich strategy should be activated in the system. \n\nAm I making any sense ? :)","customfield_10010":14357.0,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12332069","id":"12332069","filename":"ASF.LICENSE.NOT.GRANTED--Patch.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohankishore%40yahoo.com","name":"mohankishore@yahoo.com","key":"mohankishore@yahoo.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohan Kishore","active":true,"timeZone":"Etc/UTC"},"created":"2003-05-06T02:00:52.000+0000","size":28567,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12332069/ASF.LICENSE.NOT.GRANTED--Patch.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12332068","id":"12332068","filename":"ASF.LICENSE.NOT.GRANTED--Patch.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohankishore%40yahoo.com","name":"mohankishore@yahoo.com","key":"mohankishore@yahoo.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohan Kishore","active":true,"timeZone":"Etc/UTC"},"created":"2003-04-11T09:30:29.000+0000","size":7763,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12332068/ASF.LICENSE.NOT.GRANTED--Patch.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"74926","customfield_12312823":null,"summary":"static option for reversing the stacktrace","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=max%40eos.dk","name":"max@eos.dk","key":"max@eos.dk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Max Rydahl Andersen","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=max%40eos.dk","name":"max@eos.dk","key":"max@eos.dk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Max Rydahl Andersen","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Operating System: other\nPlatform: Other","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340404/comment/12403185","id":"12403185","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alex%40apache.org","name":"alex@apache.org","key":"alex@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alex Chaffee","active":true,"timeZone":"Etc/UTC"},"body":"\"This is not very friendly to users because hopefully the \nhighlevel exception will be the best explanation in 9 out of 10 causes,\"\n\nThis is contrary to my experience.  I find that the higher level exceptions \nusually cloud the issue, obscuring a low-level explanation (e.g. Disk Full) \nwith an package-level explanation (e.g. StorageLayerException) that was layered \non in order to satisfy Java's neurotic exception checking.  In addition, this \nhigh-level exception has the *wrong* stack trace, since it was thrown from a \ndifferent line of code than the one that caused the error; so you *have* to \nscroll down and then seek back up again to find the start of the real stack \ntrace.\n\n\"it is only when debugging or in misbehaved exception handling one like to see \nthe root causes - and THEN one can go down and read the bottom of the stack \ntrace.\"\n\nI disagree with this statement too.  While I do believe that users should be \ngiven information when something goes wrong, naive users should never be forced \nto read a stack trace or an exception message.  For them, *any* exception at \nall translates as \"Something bad happened (plus technical gobbledegook).\"\n\nThat means that the *only* users interested in the content would presumably \nonly be interested because they are debugging.\n\nIt sounds like the bug reporter needs to install a higher-level error handling \nroutine in his application.  While throwables can be a nice way to signal \napplication errors, there needs to be a different way for your application to \nfigure out what message to present to the user.  This can be as simple as \"An \nerror occured while X\" where X is \"Loading foo.xml\" or \"Communicating with the \nserver\", and you can even generate these by looking at the high-level exception \nand having a mapping table of your own (StorageLayerException -> \"Accessing the \nlocal disk\") but displaying \"com.myapp.storage.StorageLayerException: ...\" to \nthe user is already assuming she's technical enough to even bother reading it \npast the \"com.myapp.\", let alone comprehend it.\n\nAfter all that, however, I'm not sure what the correct default behavior is for \nlang.exception.  There is a very strong argument that it should behave just \nlike JDK; if so, there's another argument that there should be an option to \nreverse it for people like me who prefer it upside-down.\n\nAll IMHO, of course... :-)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alex%40apache.org","name":"alex@apache.org","key":"alex@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alex Chaffee","active":true,"timeZone":"Etc/UTC"},"created":"2003-03-31T00:26:21.000+0000","updated":"2003-03-31T00:26:21.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340404/comment/12403186","id":"12403186","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=max%40eos.dk","name":"max@eos.dk","key":"max@eos.dk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Max Rydahl Andersen","active":true,"timeZone":"Etc/UTC"},"body":"\n\n\"It sounds like the bug reporter needs to install a higher-level error handling \n\n\nroutine in his application.\" \n\n\n\n\n:)\n\n\n\n\nI got a higher-level error handling routine which \"converts\" the correct message \nto end-users.\n\n\n\n\nIn my bug-report the word users was ment as \"developers\" which is the users of \nthe NestedException.\n\n\n\n\nAnd yes, I understand your viewpoint of the Disk full is better than \nStorageException.....but as I wrote, if the top-level exception isn't good \nenough then it is because of a \"mis-behaving\" application/exception hierachy.\n\n\nThus if you got a good exception hierachy you write the correct message in the \ntop-level exception (e.g. DerefrenceException(\"Could not derefence property \n'kitten' on Person\")) and embed the Nullpointer exception that indicated it \ninside the top-level exception.\n\n\n\n\nIn this case it is much more meaningfull to see the DereferenceException than \nthe nullpointer exception. If the nullpointer exception is at the top, one \nthinks it is a nasty bug...if DereferenceExcpeiton is at the top you know what \nhas happend and it is a valid exception (if you have tried to dereference \n'kitten' on Person at least :)\n\n\n\n\nBut I would also prefer to have it as an option :)\n\n\n\n\n\n\n\n\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=max%40eos.dk","name":"max@eos.dk","key":"max@eos.dk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Max Rydahl Andersen","active":true,"timeZone":"Etc/UTC"},"created":"2003-03-31T00:51:13.000+0000","updated":"2003-03-31T00:51:13.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340404/comment/12403187","id":"12403187","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohankishore%40yahoo.com","name":"mohankishore@yahoo.com","key":"mohankishore@yahoo.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohan Kishore","active":true,"timeZone":"Etc/UTC"},"body":"Created an attachment (id=5784)\nAllows jdk1.4 like trace\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohankishore%40yahoo.com","name":"mohankishore@yahoo.com","key":"mohankishore@yahoo.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohan Kishore","active":true,"timeZone":"Etc/UTC"},"created":"2003-04-11T09:30:29.000+0000","updated":"2003-04-11T09:30:29.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340404/comment/12403188","id":"12403188","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohankishore%40yahoo.com","name":"mohankishore@yahoo.com","key":"mohankishore@yahoo.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohan Kishore","active":true,"timeZone":"Etc/UTC"},"body":"Have attached a patch which allows one to simulate the stack trace in jdk1.4.\n\nAdded a couple of boolean attributes:\n1) topDown - [true] prints the stack top down\n2) trimStackFrames - [true] removes the repeated frames in nested exceptions\n\nAlso added a method to ExceptionUtils to detect if Throwable class has a \ngetCause method. If so, the printStackTrace just uses that. \n\nThe way it is implemented right now, the output looks very garbled in jdk1.4...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohankishore%40yahoo.com","name":"mohankishore@yahoo.com","key":"mohankishore@yahoo.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohan Kishore","active":true,"timeZone":"Etc/UTC"},"created":"2003-04-11T09:36:38.000+0000","updated":"2003-04-11T09:36:38.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340404/comment/12403189","id":"12403189","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohankishore%40yahoo.com","name":"mohankishore@yahoo.com","key":"mohankishore@yahoo.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohan Kishore","active":true,"timeZone":"Etc/UTC"},"body":"The patch will cause the tests to fail. Please let me know if the basic idea is \nacceptable - can then go ahead with the test cases (will require a complete \noverhaul of the test cases). The test cases would have to run in both jre1.3 \nand jre1.4...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohankishore%40yahoo.com","name":"mohankishore@yahoo.com","key":"mohankishore@yahoo.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohan Kishore","active":true,"timeZone":"Etc/UTC"},"created":"2003-04-30T04:01:59.000+0000","updated":"2003-04-30T04:01:59.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340404/comment/12403190","id":"12403190","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohankishore%40yahoo.com","name":"mohankishore@yahoo.com","key":"mohankishore@yahoo.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohan Kishore","active":true,"timeZone":"Etc/UTC"},"body":"Created an attachment (id=6223)\nSource and Test pacthes\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohankishore%40yahoo.com","name":"mohankishore@yahoo.com","key":"mohankishore@yahoo.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohan Kishore","active":true,"timeZone":"Etc/UTC"},"created":"2003-05-06T02:00:52.000+0000","updated":"2003-05-06T02:00:52.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340404/comment/12403191","id":"12403191","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"Mohan's patch applied. Tests succeed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2003-05-14T10:01:40.000+0000","updated":"2003-05-14T10:01:40.000+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-48/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0d73j:"}}