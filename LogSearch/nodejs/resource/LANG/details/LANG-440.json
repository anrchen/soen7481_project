{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12397316","self":"https://issues.apache.org/jira/rest/api/2/issue/12397316","key":"LANG-440","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314743","id":"12314743","description":"","name":"2.5","archived":true,"released":true,"releaseDate":"2010-02-25"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2008-06-09T07:17:30.739+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Nov 05 17:01:09 UTC 2008","customfield_12310420":"34040","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_556182769_*|*_6_*:*_2_*:*_1319163635_*|*_4_*:*_1_*:*_11589454870","customfield_12312321":null,"resolutiondate":"2008-11-05T17:01:09.274+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-440/watchers","watchCount":0,"isWatching":false},"created":"2008-06-02T20:47:48.607+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312481","id":"12312481","description":"Bugfix release of the Lang1 codebase","name":"2.4","archived":true,"released":true,"releaseDate":"2008-03-18"}],"issuelinks":[{"id":"12320475","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12320475","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"12395021","key":"LANG-434","self":"https://issues.apache.org/jira/rest/api/2/issue/12395021","fields":{"summary":"Add DateUtils.ceiling() method","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-05-02T02:29:13.908+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313196","id":"12313196","name":"lang.time.*"}],"timeoriginalestimate":null,"description":"The provided JUnit-tests test with wrong expected values\n{code:title= original DateUtilsTest.java}\ndateAmPm1 = dateTimeParser.parse(\"February 3, 2002 01:10:00.000\");\ndateAmPm2 = dateTimeParser.parse(\"February 3, 2002 11:10:00.000\");\ndateAmPm3 = dateTimeParser.parse(\"February 3, 2002 13:10:00.000\");\ndateAmPm4 = dateTimeParser.parse(\"February 3, 2002 19:10:00.000\");\n\nassertEquals(\"truncate ampm-1 failed\",\n                dateTimeParser.parse(\"February 3, 2002 00:00:00.000\"),\n                DateUtils.round(dateAmPm1, Calendar.AM_PM));\n        assertEquals(\"truncate ampm-2 failed\",\n                dateTimeParser.parse(\"February 4, 2002 00:00:00.000\"),\n                DateUtils.round(dateAmPm2, Calendar.AM_PM));\n        assertEquals(\"truncate ampm-3 failed\",\n                dateTimeParser.parse(\"February 3, 2002 12:00:00.000\"),\n                DateUtils.round(dateAmPm3, Calendar.AM_PM));\n        assertEquals(\"truncate ampm-4 failed\",\n                dateTimeParser.parse(\"February 4, 2002 12:00:00.000\"),\n                DateUtils.round(dateAmPm4, Calendar.AM_PM));\n{code}\n\nbut expected values must be\n\n{code}\ndateTimeParser.parse(\"February 3, 2002 00:00:00.000\");\ndateTimeParser.parse(\"February 3, 2002 12:00:00.000\");\ndateTimeParser.parse(\"February 3, 2002 12:00:00.000\");\ndateTimeParser.parse(\"February 4, 2002 00:00:00.000\");\n{code}\n\nAlso in the junit-comment the word 'truncate' must be replaced with 'round'","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12384584","id":"12384584","filename":"LANG-440-2-rs.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rfscholte-getthere","name":"rfscholte-getthere","key":"rfscholte-getthere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Scholte","active":true,"timeZone":"Etc/UTC"},"created":"2008-06-24T13:46:03.824+0000","size":604,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12384584/LANG-440-2-rs.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12383280","id":"12383280","filename":"LANG-440-rs.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rfscholte-getthere","name":"rfscholte-getthere","key":"rfscholte-getthere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Scholte","active":true,"timeZone":"Etc/UTC"},"created":"2008-06-03T07:49:36.822+0000","size":5603,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12383280/LANG-440-rs.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"74748","customfield_12312823":null,"summary":"DateUtils.round doesn't work correct for Calendar.AM_PM","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rfscholte-getthere","name":"rfscholte-getthere","key":"rfscholte-getthere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Scholte","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rfscholte-getthere","name":"rfscholte-getthere","key":"rfscholte-getthere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Scholte","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397316/comment/12601756","id":"12601756","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rfscholte-getthere","name":"rfscholte-getthere","key":"rfscholte-getthere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Scholte","active":true,"timeZone":"Etc/UTC"},"body":"Patch is on it's way","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rfscholte-getthere","name":"rfscholte-getthere","key":"rfscholte-getthere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Scholte","active":true,"timeZone":"Etc/UTC"},"created":"2008-06-02T20:48:34.548+0000","updated":"2008-06-02T20:48:34.548+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397316/comment/12601851","id":"12601851","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rfscholte-getthere","name":"rfscholte-getthere","key":"rfscholte-getthere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Scholte","active":true,"timeZone":"Etc/UTC"},"body":"Added code for correct rounding based on AM_PM and repaired the JUnit-tests (and their comments)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rfscholte-getthere","name":"rfscholte-getthere","key":"rfscholte-getthere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Scholte","active":true,"timeZone":"Etc/UTC"},"created":"2008-06-03T07:49:36.853+0000","updated":"2008-06-03T07:49:36.853+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397316/comment/12603491","id":"12603491","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"Patch applied, thanks Robert.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-06-09T07:17:30.739+0000","updated":"2008-06-09T07:17:30.739+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397316/comment/12607612","id":"12607612","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rfscholte-getthere","name":"rfscholte-getthere","key":"rfscholte-getthere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Scholte","active":true,"timeZone":"Etc/UTC"},"body":"I've started writing new DateUtils-tests according to [LANG-443]. And now it seems AM_PM is still not rounded in the correct way. \nIt's switch-point is between 06:59.999 and 07:00.000, which is exactly one hour too late. The tests provided didn't cover these times. Another reason for better tests.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rfscholte-getthere","name":"rfscholte-getthere","key":"rfscholte-getthere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Scholte","active":true,"timeZone":"Etc/UTC"},"created":"2008-06-24T13:43:34.384+0000","updated":"2008-06-24T13:43:34.384+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397316/comment/12607613","id":"12607613","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rfscholte-getthere","name":"rfscholte-getthere","key":"rfscholte-getthere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Scholte","active":true,"timeZone":"Etc/UTC"},"body":"AM_PM \"one off\"-fix","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rfscholte-getthere","name":"rfscholte-getthere","key":"rfscholte-getthere","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Scholte","active":true,"timeZone":"Etc/UTC"},"created":"2008-06-24T13:46:03.884+0000","updated":"2008-06-24T13:46:03.884+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12397316/comment/12645258","id":"12645258","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"svn ci -m \"Applying Robert Scholte's excellent unit tests from LANG-443 and his second patch from LANG-440 fixing a discovered boundary case for AM_PM in round\"\n\nSending        pom.xml\nSending        src/java/org/apache/commons/lang/time/DateUtils.java\nAdding         src/test/org/apache/commons/lang/time/DateUtilsRoundingTest.java\nSending        src/test/org/apache/commons/lang/time/TimeTestSuite.java\nTransmitting file data ....\nCommitted revision 711616.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-11-05T17:01:09.264+0000","updated":"2008-11-05T17:01:09.264+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-440/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0d5zz:"}}