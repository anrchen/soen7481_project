{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12341384","self":"https://issues.apache.org/jira/rest/api/2/issue/12341384","key":"LANG-33","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311701","id":"12311701","description":"","name":"2.1","archived":true,"released":true,"releaseDate":"2005-06-13"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2004-06-02T04:01:00.000+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Apr 26 13:10:42 UTC 2006","customfield_12310420":"147002","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":"2006-05-16T12:26:36.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-33/watchers","watchCount":0,"isWatching":false},"created":"2004-04-04T05:04:10.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-10-16T08:55:01.998+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"equals considers self equal to any Object that has an accessible public getName\n() method which returns a string that is the same than the internal name iName. \nSo if you compare two objects of subclasses of Enum that are not related \notherwise, but incidentally have the same name iName the equals method returns \ntrue. \n\nBut even worse, it's also possible to compare a subclass of Enum to an object \nof a totally unrelated class and to consider the objects equal if the totally \nunrelated class provides a getName method that returns a string equal to iName. \nIf the getName method of the other object isn't accessible, an \nIllegalAccessException is thrown and caught in the equals method and false is \nreturned which in this case seems to be correct.\n\nThe root of the problem is the use of reflection without checking first whether \nthe names of the classes (via other.getClass().getName().equals(this.getClass\n().getName())) are the same (not the classes themselves, this is tested by the \nequals method) before invoking the getName method on the other object via \nreflection. If the names of the classes aren't equal, false can be returned \nimmediately instead of using reflection. Only if the classnames are equal \nreflection should be used to determine equality.\n\nNote: The old implementation of Enums.equals in the commons-lang 2.0 \ndistribution seems to work ok in the first case with both objects being \nsubclasses of Enum. In the second case of the totally unrelated class, a \nClassCastException is thrown, but according to Joshua Bloch (Effective Java) \nand the SDK-API-Documentation for Object.equals this violates the contract for \nequals because equals is supposed to deliver true or false for any two non null \nreferences.","customfield_10010":28180.0,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12332857","id":"12332857","filename":"ASF.LICENSE.NOT.GRANTED--lang-enums-Enum-equals.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=demitsch%40freenet.de","name":"demitsch@freenet.de","key":"demitsch@freenet.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matthias Eichel","active":true,"timeZone":"Europe/Berlin"},"created":"2004-04-04T05:08:43.000+0000","size":589,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12332857/ASF.LICENSE.NOT.GRANTED--lang-enums-Enum-equals.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12332858","id":"12332858","filename":"ASF.LICENSE.NOT.GRANTED--testcase.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=demitsch%40freenet.de","name":"demitsch@freenet.de","key":"demitsch@freenet.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matthias Eichel","active":true,"timeZone":"Europe/Berlin"},"created":"2004-04-04T05:10:12.000+0000","size":2894,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12332858/ASF.LICENSE.NOT.GRANTED--testcase.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"74941","customfield_12312823":null,"summary":"Method enums.Enum.equals(Object o) doesn't work correctly.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=demitsch%40freenet.de","name":"demitsch@freenet.de","key":"demitsch@freenet.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matthias Eichel","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=demitsch%40freenet.de","name":"demitsch@freenet.de","key":"demitsch@freenet.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matthias Eichel","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Operating System: All\nPlatform: All","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12341384/comment/12406394","id":"12406394","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=demitsch%40freenet.de","name":"demitsch@freenet.de","key":"demitsch@freenet.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matthias Eichel","active":true,"timeZone":"Europe/Berlin"},"body":"Created an attachment (id=11116)\nproposed Patch for Enum.equals\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=demitsch%40freenet.de","name":"demitsch@freenet.de","key":"demitsch@freenet.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matthias Eichel","active":true,"timeZone":"Europe/Berlin"},"created":"2004-04-04T05:08:43.000+0000","updated":"2004-04-04T05:08:43.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12341384/comment/12406395","id":"12406395","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=demitsch%40freenet.de","name":"demitsch@freenet.de","key":"demitsch@freenet.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matthias Eichel","active":true,"timeZone":"Europe/Berlin"},"body":"Created an attachment (id=11117)\nTestcase File contains source for four java classes\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=demitsch%40freenet.de","name":"demitsch@freenet.de","key":"demitsch@freenet.de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matthias Eichel","active":true,"timeZone":"Europe/Berlin"},"created":"2004-04-04T05:10:12.000+0000","updated":"2004-04-04T05:10:12.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12341384/comment/12406396","id":"12406396","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scolebourne%40joda.org","name":"scolebourne@joda.org","key":"scolebourne@joda.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Colebourne","active":true,"timeZone":"Etc/UTC"},"body":"Patch applied, thanks for the spot and fix.\n\nRelated change 26876.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scolebourne%40joda.org","name":"scolebourne@joda.org","key":"scolebourne@joda.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Colebourne","active":true,"timeZone":"Etc/UTC"},"created":"2004-06-02T04:01:00.000+0000","updated":"2004-06-02T04:01:00.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12341384/comment/12406397","id":"12406397","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"2.1 released, closing.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2006-04-26T13:10:42.000+0000","updated":"2006-04-26T13:10:42.000+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-33/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0d76v:"}}