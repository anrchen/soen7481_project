{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12340664","self":"https://issues.apache.org/jira/rest/api/2/issue/12340664","key":"LANG-139","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311706","id":"12311706","description":"","name":"2.0","archived":true,"released":true,"releaseDate":"2003-09-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2003-08-03T01:41:46.000+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Aug 07 10:06:49 UTC 2003","customfield_12310420":"147079","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":"2006-05-16T12:41:01.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-139/watchers","watchCount":0,"isWatching":false},"created":"2003-04-15T21:21:33.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-10-16T08:54:58.343+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"both tests in EnumTest.testOperationSerialization() fail with the following \nexception:\n\n1) testOperationSerialization(org.apache.commons.lang.enum.EnumTest)\njava.lang.NoClassDefFoundError: org/apache/commons/lang/enum/OperationEnum$1\n\nwhere OperationEnum$1 is OperationEnum.PLUS, the static anonymous class in \nOperationEnum. \n\nI plan to comment these tests out for any releases.","customfield_10010":19030.0,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"74836","customfield_12312823":null,"summary":"[lang] EnumTest fails on Linux Sun JDK 1.3.0","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Operating System: Linux\nPlatform: PC","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340664/comment/12404097","id":"12404097","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"Also breaks on JDK 1.2.2 on Linux. \n\nOne possible way to get around it is the rather dubious use of an explicitly named \nOperationEnum$1 class. [ie) not an anonymous inner class, but pretending to be].","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2003-07-30T10:01:54.000+0000","updated":"2003-07-30T10:01:54.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340664/comment/12404098","id":"12404098","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scolebourne%40joda.org","name":"scolebourne@joda.org","key":"scolebourne@joda.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Colebourne","active":true,"timeZone":"Etc/UTC"},"body":"Change made to OperationEnum. Can someone try it on Linux to see if it fixes \nit??","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scolebourne%40joda.org","name":"scolebourne@joda.org","key":"scolebourne@joda.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Colebourne","active":true,"timeZone":"Etc/UTC"},"created":"2003-08-03T01:41:46.000+0000","updated":"2003-08-03T01:41:46.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340664/comment/12404099","id":"12404099","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phil%40steitz.com","name":"phil@steitz.com","key":"phil@steitz.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phil Steitz","active":true,"timeZone":"Etc/UTC"},"body":"The tests and all sources now compile and run fine for me under Sun Linux JDK\n1.3.1_8\n\nUsing Sun Linux JDK 1.2.2_016, however, I am still getting the following compile\nerror for OperationEnum:\n\ncompile.tests:\n    [javac] Compiling 98 source files to\n/home/phil/jakarta-commons/lang/target/tests\n    [javac]\n/home/phil/jakarta-commons/lang/src/test/org/apache/commons/lang/enum/OperationEnum.java:71:\nclass org.apache.commons.lang.enum.OperationEnum is an abstract class. It can't\nbe instantiated.\n    [javac]         PLUS = new OperationEnum(\"Plus\") {\n    [javac]                ^\n    [javac]\n/home/phil/jakarta-commons/lang/src/test/org/apache/commons/lang/enum/OperationEnum.java:76:\nclass org.apache.commons.lang.enum.OperationEnum is an abstract class. It can't\nbe instantiated.\n    [javac]         MINUS = new OperationEnum(\"Minus\") {\n    [javac]                 ^\n    [javac] Note: 7 files use or override a deprecated API.  Recompile with\n\"-deprecation\" for details.\n    [javac] 2 errors, 1 warning\n\nI also had to add \n\nencoding=\"ISO-8859-1\"\n\nto the build.xml javac targets to get Entities, MethodUtils and\nDurationFormatUtils to compile under 1.2.2_016.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phil%40steitz.com","name":"phil@steitz.com","key":"phil@steitz.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phil Steitz","active":true,"timeZone":"Etc/UTC"},"created":"2003-08-03T02:54:07.000+0000","updated":"2003-08-03T02:54:07.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340664/comment/12404100","id":"12404100","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phil%40steitz.com","name":"phil@steitz.com","key":"phil@steitz.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phil Steitz","active":true,"timeZone":"Etc/UTC"},"body":"To clarify the comment above, all that is failing is compile.tests under Sun\nLinux  JDK 1.2.2.  The compile target succeeds (i.e. src/java builds fine) and\nthe tests run clean using this JRE when compiled using 1.4.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phil%40steitz.com","name":"phil@steitz.com","key":"phil@steitz.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phil Steitz","active":true,"timeZone":"Etc/UTC"},"created":"2003-08-04T09:32:01.000+0000","updated":"2003-08-04T09:32:01.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340664/comment/12404101","id":"12404101","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"Stephen's change still fails to compile on my Linux JDK 1.2.2.\n\n    [javac] /home/hen/jakarta/src/jakarta-\ncommons/lang/src/test/org/apache/commons/lang/enum/OperationEnum.java:71: \nclass org.apache.commons.lang.enum.OperationEnum is an abstract class. It \ncan't be instantiated.\n    [javac]         PLUS = new OperationEnum(\"Plus\") {\n\nI haven't needed to use Phil's encoding attribute however to make the others \ncompile.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2003-08-05T00:41:04.000+0000","updated":"2003-08-05T00:41:04.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340664/comment/12404102","id":"12404102","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scolebourne%40joda.org","name":"scolebourne@joda.org","key":"scolebourne@joda.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Colebourne","active":true,"timeZone":"Etc/UTC"},"body":"OK, I finally understand the problem.\n\nstatic final OperationEnum PLUS = new OperationEnum(\"Plus\") {\n};\nis defining a new anonymous class. However, because it is assigned to a static \nfield and declared in a static context, the class must be a static nested class \ninstead of an inner class. (inner classes reference their owning object, nested \nclasses don't)\n\nObviously Sun improved the spec between 1.2 and 1.3 to allow for this unusual \ncase by generating a nested class instead of an inner. 1.2 just objects that it \ncan't create an inner class here.\n\nSo...we either find a way around the problem, or declare this particular piece \nof functionality broken if compiled using 1.2.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scolebourne%40joda.org","name":"scolebourne@joda.org","key":"scolebourne@joda.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Colebourne","active":true,"timeZone":"Etc/UTC"},"created":"2003-08-05T03:24:03.000+0000","updated":"2003-08-05T03:24:03.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340664/comment/12404103","id":"12404103","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scolebourne%40joda.org","name":"scolebourne@joda.org","key":"scolebourne@joda.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Colebourne","active":true,"timeZone":"Etc/UTC"},"body":"Change made. It should work now on JDK1.2.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scolebourne%40joda.org","name":"scolebourne@joda.org","key":"scolebourne@joda.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Colebourne","active":true,"timeZone":"Etc/UTC"},"created":"2003-08-05T06:57:23.000+0000","updated":"2003-08-05T06:57:23.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340664/comment/12404104","id":"12404104","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"Now works on JDK 1.2 on Linux. 1.3 had the same problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2003-08-07T10:06:49.000+0000","updated":"2003-08-07T10:06:49.000+0000"}],"maxResults":8,"total":8,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-139/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0d6jj:"}}