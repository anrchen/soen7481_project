{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12340402","self":"https://issues.apache.org/jira/rest/api/2/issue/12340402","key":"LANG-87","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311706","id":"12311706","description":"","name":"2.0","archived":true,"released":true,"releaseDate":"2003-09-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2002-11-21T17:30:14.000+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Dec 09 05:48:27 UTC 2002","customfield_12310420":"147042","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":"2006-05-16T12:45:42.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-87/watchers","watchCount":0,"isWatching":false},"created":"2002-11-07T02:21:20.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311706","id":"12311706","description":"","name":"2.0","archived":true,"released":true,"releaseDate":"2003-09-02"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2006-05-16T12:45:42.000+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"CompareToBuilder does not seem to handle nulls well at all.\n\nIn the methods:\n\npublic CompareToBuilder append(Object lhs, Object rhs)\npublic CompareToBuilder append(Object[] lhs, Object[] rhs)\n\nIf either the lhs or rhs parameters are null, the code is set up to throw a \nNullPointerException instead of evaulating on the basis of null.  This requires \nthat all object be vetted before they be placed in a sorting collection, not \nusing the CompareToBuilder class, modifying the source code, or subclassing \nCompareToBuilder.  We worked around this by subclassing CompareToBuilder and \noverriding the methods in question.\n\nThe following lines of code (in both methods) are the cause of the exception:\n\n        if (comparison != 0) {\n            return this;\n        }\n        if (lhs == rhs) {\n            return this;\n        }\n        if (lhs == null || rhs == null) {\n            throw new NullPointerException();\n        }\n\nThe 'if' statement should be replaced with (?) :\n\n        if (lhs == null && rhs != null) {\n            comparison = -1;\n            return this;\n        }\n        if (lhs != null && rhs == null) {\n            comparison = 1;\n            return this;\n        }","customfield_10010":14306.0,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"74888","customfield_12312823":null,"summary":"NullPointerException in CompareToBuilder","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=schloss%40visi.com","name":"schloss@visi.com","key":"schloss@visi.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"schloss","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=schloss%40visi.com","name":"schloss@visi.com","key":"schloss@visi.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"schloss","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Operating System: All\nPlatform: All","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340402/comment/12403180","id":"12403180","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yuri","name":"yuri","key":"yuri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yuri&avatarId=26087","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yuri&avatarId=26087","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yuri&avatarId=26087","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yuri&avatarId=26087"},"displayName":"Yuri Schimke","active":true,"timeZone":"America/Los_Angeles"},"body":"I came accross this bug as well, it really stops the CompareToBuilder being\nuseful and easy to use.  If there is a compelling reason why it shouldn't\nsupport nulls (althogh it does when both null), then maybe a strict flag could\nbe added to another constructor, defaulting to strict in the no-args constructor.\n\nNote, it aso affects the primitive array methods when they are called directly.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yuri","name":"yuri","key":"yuri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yuri&avatarId=26087","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yuri&avatarId=26087","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yuri&avatarId=26087","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yuri&avatarId=26087"},"displayName":"Yuri Schimke","active":true,"timeZone":"America/Los_Angeles"},"created":"2002-11-21T17:30:14.000+0000","updated":"2002-11-21T17:30:14.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12340402/comment/12403181","id":"12403181","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scolebourne%40joda.org","name":"scolebourne@joda.org","key":"scolebourne@joda.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Colebourne","active":true,"timeZone":"Etc/UTC"},"body":"I have recoded the class to handle nulls (nulls are low). Please retry the \nclass from the CVS and reopen the bug if you still have problems.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scolebourne%40joda.org","name":"scolebourne@joda.org","key":"scolebourne@joda.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Colebourne","active":true,"timeZone":"Etc/UTC"},"created":"2002-12-09T05:48:27.000+0000","updated":"2002-12-09T05:48:27.000+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-87/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0d6v3:"}}