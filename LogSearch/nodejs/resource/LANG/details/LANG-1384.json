{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13143515","self":"https://issues.apache.org/jira/rest/api/2/issue/13143515","key":"LANG-1384","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12342160","id":"12342160","description":"Feature and bug fix release","name":"3.8","archived":false,"released":true,"releaseDate":"2018-08-20"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2018-03-08T12:13:14.036+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Aug 21 13:08:53 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1331009982_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2018-03-23T21:02:09.745+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-1384/watchers","watchCount":4,"isWatching":false},"created":"2018-03-08T11:18:39.793+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12340849","id":"12340849","description":"Feature and bugfix release","name":"3.7","archived":false,"released":true,"releaseDate":"2017-11-04"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erans","name":"erans","key":"erans","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gilles","active":true,"timeZone":"Europe/Brussels"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-08-21T13:08:53.097+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Calling, for example, {{SystemUtils.isJavaVersionAtLeast(JavaVersion.JAVA_1_7);}} under the Java 11 early access release causes a NPE:\r\n{code:java}\r\njava.lang.NullPointerException\r\nat org.apache.commons.lang3.SystemUtils.isJavaVersionAtLeast(SystemUtils.java:1654)\r\n{code}\r\n\r\nThis is:\r\n\r\n{code}\r\nreturn JAVA_SPECIFICATION_VERSION_AS_ENUM.atLeast(requiredVersion);\r\n{code}\r\n\r\n... which implies that {{JAVA_SPECIFICATION_VERSION_AS_ENUM}} hasn't been resolved properly, although it looks like the code in JavaVersion intends to return {{JAVA_RECENT}} in the case of unknown versions.\r\n\r\nThe {{java.specification.version}} system property is \"11\" in this environment.\r\n\r\n{code}\r\n$ java -version\r\njava version \"11-ea\" 2018-09-18\r\nJava(TM) SE Runtime Environment 18.9 (build 11-ea+2)\r\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11-ea+2, mixed mode){code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"NPE from SystemUtils.isJavaVersionAtLeast under Java 11 EA","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=iay","name":"iay","key":"iay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=iay&avatarId=16610","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=iay&avatarId=16610","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=iay&avatarId=16610","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=iay&avatarId=16610"},"displayName":"Ian Young","active":true,"timeZone":"Europe/London"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=iay","name":"iay","key":"iay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=iay&avatarId=16610","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=iay&avatarId=16610","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=iay&avatarId=16610","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=iay&avatarId=16610"},"displayName":"Ian Young","active":true,"timeZone":"Europe/London"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Java 11 EA","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143515/comment/16391156","id":"16391156","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erans","name":"erans","key":"erans","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gilles","active":true,"timeZone":"Europe/Brussels"},"body":"Thanks for the report.\r\n{quote}it looks like the code in JavaVersion intends to return JAVA_RECENT in the case of unknown versions.\r\n{quote}\r\nClearly, this is broken. It seems to assume that versions are always \"1.X\".\r\n Adding a new {{enum}} item ({{JAVA_11}}) would work for now; but the same bug will reappear at the next unknown version.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erans","name":"erans","key":"erans","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gilles","active":true,"timeZone":"Europe/Brussels"},"created":"2018-03-08T12:13:14.036+0000","updated":"2018-03-08T12:13:14.036+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143515/comment/16391195","id":"16391195","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=iay","name":"iay","key":"iay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=iay&avatarId=16610","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=iay&avatarId=16610","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=iay&avatarId=16610","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=iay&avatarId=16610"},"displayName":"Ian Young","active":true,"timeZone":"Europe/London"},"body":"I agree that – particularly given the increased pace of Java releases – any real solution has to put a nail in this for good rather than just adding a new {{enum}} reactively every few months. The {{JAVA_RECENT}} thing seems to have been an attempt to do that, it just doesn't seem to be working.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=iay","name":"iay","key":"iay","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=iay&avatarId=16610","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=iay&avatarId=16610","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=iay&avatarId=16610","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=iay&avatarId=16610"},"displayName":"Ian Young","active":true,"timeZone":"Europe/London"},"created":"2018-03-08T12:43:26.680+0000","updated":"2018-03-08T12:43:26.680+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143515/comment/16391216","id":"16391216","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erans","name":"erans","key":"erans","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gilles","active":true,"timeZone":"Europe/Brussels"},"body":"I've added {{JAVA_11}} in commit 50ce8c44e1601acffa39f5568f0fc140aade0564 (\"master\" branch).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erans","name":"erans","key":"erans","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gilles","active":true,"timeZone":"Europe/Brussels"},"created":"2018-03-08T12:57:58.106+0000","updated":"2018-03-08T12:57:58.106+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143515/comment/16391370","id":"16391370","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=garydgregory","name":"garydgregory","key":"garydgregory","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=garydgregory&avatarId=16828","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=garydgregory&avatarId=16828","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=garydgregory&avatarId=16828","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=garydgregory&avatarId=16828"},"displayName":"Gary Gregory","active":true,"timeZone":"America/Denver"},"body":"[~erans]: Don't forget to update {{changes.xml}} ;)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=garydgregory","name":"garydgregory","key":"garydgregory","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=garydgregory&avatarId=16828","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=garydgregory&avatarId=16828","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=garydgregory&avatarId=16828","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=garydgregory&avatarId=16828"},"displayName":"Gary Gregory","active":true,"timeZone":"America/Denver"},"created":"2018-03-08T15:09:39.934+0000","updated":"2018-03-08T15:09:39.934+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143515/comment/16391371","id":"16391371","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=garydgregory","name":"garydgregory","key":"garydgregory","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=garydgregory&avatarId=16828","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=garydgregory&avatarId=16828","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=garydgregory&avatarId=16828","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=garydgregory&avatarId=16828"},"displayName":"Gary Gregory","active":true,"timeZone":"America/Denver"},"body":"We also need to push out a 3.8 ASAP IMO so that Maven plugins like Surefire can update Commons Lang (again), to avoid this NPE.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=garydgregory","name":"garydgregory","key":"garydgregory","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=garydgregory&avatarId=16828","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=garydgregory&avatarId=16828","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=garydgregory&avatarId=16828","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=garydgregory&avatarId=16828"},"displayName":"Gary Gregory","active":true,"timeZone":"America/Denver"},"created":"2018-03-08T15:10:59.175+0000","updated":"2018-03-08T15:10:59.175+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143515/comment/16391395","id":"16391395","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erans","name":"erans","key":"erans","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gilles","active":true,"timeZone":"Europe/Brussels"},"body":"bq. Don't forget to update changes.xml\r\n\r\nDone (I didn't know whether my changes would be sufficient to resolve this issue).\r\n\r\nPlease examine the attempt to prevent the same failure for later versions (would only work if the naming scheme stays the same).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erans","name":"erans","key":"erans","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gilles","active":true,"timeZone":"Europe/Brussels"},"created":"2018-03-08T15:32:13.442+0000","updated":"2018-03-08T15:32:13.442+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143515/comment/16391420","id":"16391420","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=garydgregory","name":"garydgregory","key":"garydgregory","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=garydgregory&avatarId=16828","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=garydgregory&avatarId=16828","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=garydgregory&avatarId=16828","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=garydgregory&avatarId=16828"},"displayName":"Gary Gregory","active":true,"timeZone":"America/Denver"},"body":"Yes, this will work for now, at least until Java versions go past {{\"99\"}}. This {{SystemUtils}} method:\r\n\r\n{code:java}\r\n    static boolean isJavaVersionMatch(final String version, final String versionPrefix) {\r\n        if (version == null) {\r\n            return false;\r\n        }\r\n        return version.startsWith(versionPrefix);\r\n    }\r\n{code}\r\n\r\nwill not do the right thing when comparing {{\"100\"}} with {{\"10\"}}.\r\n\r\nGary","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=garydgregory","name":"garydgregory","key":"garydgregory","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=garydgregory&avatarId=16828","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=garydgregory&avatarId=16828","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=garydgregory&avatarId=16828","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=garydgregory&avatarId=16828"},"displayName":"Gary Gregory","active":true,"timeZone":"America/Denver"},"created":"2018-03-08T15:46:41.451+0000","updated":"2018-03-08T15:47:12.821+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13143515/comment/16587403","id":"16587403","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chtompki","name":"chtompki","key":"chtompki","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chtompki&avatarId=29336","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chtompki&avatarId=29336","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chtompki&avatarId=29336","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chtompki&avatarId=29336"},"displayName":"Rob Tompkins","active":true,"timeZone":"America/New_York"},"body":"3.8 Released.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chtompki","name":"chtompki","key":"chtompki","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chtompki&avatarId=29336","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chtompki&avatarId=29336","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chtompki&avatarId=29336","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chtompki&avatarId=29336"},"displayName":"Rob Tompkins","active":true,"timeZone":"America/New_York"},"created":"2018-08-21T13:08:53.086+0000","updated":"2018-08-21T13:08:53.086+0000"}],"maxResults":8,"total":8,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-1384/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3r1ef:"}}