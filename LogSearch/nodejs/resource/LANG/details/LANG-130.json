{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12342941","self":"https://issues.apache.org/jira/rest/api/2/issue/12342941","key":"LANG-130","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311702","id":"12311702","name":"2.2","archived":true,"released":true,"releaseDate":"2006-10-04"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2006-03-06T15:34:23.000+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Mar 08 05:22:03 UTC 2006","customfield_12310420":"147072","customfield_12312320":null,"customfield_12310222":"6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_29724475753","customfield_12312321":null,"resolutiondate":"2009-12-16T08:50:40.444+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-130/watchers","watchCount":0,"isWatching":false},"created":"2006-02-27T22:59:21.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311701","id":"12311701","description":"","name":"2.1","archived":true,"released":true,"releaseDate":"2005-06-13"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-12-16T08:50:40.444+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313203","id":"12313203","name":"lang.*"}],"timeoriginalestimate":null,"description":"The static field PADDING allocates 262152 bytes for nothing.\n\nprivate static final String[] PADDING = new String[Character.MAX_VALUE];\n\nAt least use lazy creation, better completely remove it (move to method) to save\nmemory (Having 20 apps on one tomcat --> 5MB allocated for nothing).","customfield_10010":38792.0,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"74845","customfield_12312823":null,"summary":"[lang] Memory \"leak\" in StringUtils","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sebastian.kirsch%40paybox.net","name":"sebastian.kirsch@paybox.net","key":"sebastian.kirsch@paybox.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sebastian.kirsch","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sebastian.kirsch%40paybox.net","name":"sebastian.kirsch@paybox.net","key":"sebastian.kirsch@paybox.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sebastian.kirsch","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Operating System: other\nPlatform: All","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342941/comment/12411512","id":"12411512","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"I favour switching to lazy loading; have asked on the mailng list how others feel.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2006-03-06T15:34:23.000+0000","updated":"2006-03-06T15:34:23.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342941/comment/12411513","id":"12411513","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ggregory%40seagullsw.com","name":"ggregory@seagullsw.com","key":"ggregory@seagullsw.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"ggregory@seagullsw.com","active":false,"timeZone":"Etc/UTC"},"body":"Seems like a good idea. Since PADDING is private, the change will not create an\nincompatibility.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ggregory%40seagullsw.com","name":"ggregory@seagullsw.com","key":"ggregory@seagullsw.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"ggregory@seagullsw.com","active":false,"timeZone":"Etc/UTC"},"created":"2006-03-07T03:18:26.000+0000","updated":"2006-03-07T03:18:26.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342941/comment/12411514","id":"12411514","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sandymac%40apache.org","name":"sandymac@apache.org","key":"sandymac@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sandy McArthur (from Bugzilla import)","active":true,"timeZone":"Etc/UTC"},"body":"Has it been shown that the PADDING caching actually benefits anything? I think\nit should be removed as it's just going to consume more and more memory until\nthe StringUtils class is unloaded.\n\nEither way the StringUtils.padding(int,char) should be changed to use a\nStringBuffer. I'd change the method to:\n\nprivate static String padding(int repeat, char padChar) {\n  StringBuffer sb = new StringBuffer(repeat); \n  while (sb.length() < repeat) {\n    pad = pad.concat(pad);\n  }\n  return sb.toString();\n}\n\nand remove the PADDING static field.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sandymac%40apache.org","name":"sandymac@apache.org","key":"sandymac@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sandy McArthur (from Bugzilla import)","active":true,"timeZone":"Etc/UTC"},"created":"2006-03-07T04:05:40.000+0000","updated":"2006-03-07T04:05:40.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342941/comment/12411515","id":"12411515","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sandymac%40apache.org","name":"sandymac@apache.org","key":"sandymac@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sandy McArthur (from Bugzilla import)","active":true,"timeZone":"Etc/UTC"},"body":"One more thing, if it is desirable to keep the number of equal string instances\nlow then the return could be changed to:\n\n  return sb.toString().intern();\n\nBut if Java 1.1 is a target for lang then that shouldn't be used as it will leak\nmemory. It wasn't until Java 1.2 that the intered string pool would allow unused\nintered strings to be garbage collected.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sandymac%40apache.org","name":"sandymac@apache.org","key":"sandymac@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sandy McArthur (from Bugzilla import)","active":true,"timeZone":"Etc/UTC"},"created":"2006-03-07T04:13:26.000+0000","updated":"2006-03-07T04:13:26.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342941/comment/12411516","id":"12411516","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sebastian.kirsch%40paybox.net","name":"sebastian.kirsch@paybox.net","key":"sebastian.kirsch@paybox.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sebastian.kirsch","active":true,"timeZone":"Etc/UTC"},"body":"(In reply to comment #3)\nI agree to this proposal, would be my preferred solution.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sebastian.kirsch%40paybox.net","name":"sebastian.kirsch@paybox.net","key":"sebastian.kirsch@paybox.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sebastian.kirsch","active":true,"timeZone":"Etc/UTC"},"created":"2006-03-07T15:52:35.000+0000","updated":"2006-03-07T15:52:35.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342941/comment/12411517","id":"12411517","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ggregory%40seagullsw.com","name":"ggregory@seagullsw.com","key":"ggregory@seagullsw.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"ggregory@seagullsw.com","active":false,"timeZone":"Etc/UTC"},"body":"I think we should let call sites decide whether or not Strings should be interned.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ggregory%40seagullsw.com","name":"ggregory@seagullsw.com","key":"ggregory@seagullsw.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"ggregory@seagullsw.com","active":false,"timeZone":"Etc/UTC"},"created":"2006-03-08T04:47:01.000+0000","updated":"2006-03-08T04:47:01.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12342941/comment/12411518","id":"12411518","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sandymac%40apache.org","name":"sandymac@apache.org","key":"sandymac@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sandy McArthur (from Bugzilla import)","active":true,"timeZone":"Etc/UTC"},"body":"Fix commited. I choose to use a char[] array instead of a StringBuffer but\notherwise it's just like what comment #3 describes.\nhttp://svn.apache.org/viewcvs?rev=384017&view=rev","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sandymac%40apache.org","name":"sandymac@apache.org","key":"sandymac@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sandy McArthur (from Bugzilla import)","active":true,"timeZone":"Etc/UTC"},"created":"2006-03-08T05:22:03.000+0000","updated":"2006-03-08T05:22:03.000+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-130/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0d6lj:"}}