{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12597881","self":"https://issues.apache.org/jira/rest/api/2/issue/12597881","key":"LANG-810","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317952","id":"12317952","description":"Bug fixes and new features, at least requires Java 6.0","name":"3.2","archived":false,"released":true,"releaseDate":"2014-01-01"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-07-07T11:21:21.094+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Sep 12 22:24:52 UTC 2012","customfield_12310420":"252748","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_5860091909_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-09-12T21:54:18.033+0000","workratio":0,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-810/watchers","watchCount":4,"isWatching":false},"created":"2012-07-07T02:06:06.135+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":60,"aggregatetimeoriginalestimate":60,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317550","id":"12317550","description":"November release from 3.x","name":"3.1","archived":false,"released":true,"releaseDate":"2011-11-14"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-10-15T02:33:07.969+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313203","id":"12313203","name":"lang.*"}],"timeoriginalestimate":60,"description":"endIndex is described as index, but for loop still checks it as \"array length\".\nBasically missing equal sign\n\ncommons-lang3-3.1-sources.jar, StringUtils.java lines 3309, 3394:\n        for (int i = startIndex; i < endIndex; i++) {\nshould be:\n        for (int i = startIndex; i <= endIndex; i++) {\n\n","customfield_10010":null,"timetracking":{"originalEstimate":"1m","remainingEstimate":"1m","originalEstimateSeconds":60,"remainingEstimateSeconds":60},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12536013","id":"12536013","filename":"StringUtils.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drag0nius","name":"drag0nius","key":"drag0nius","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Krzysztof Nazarewski","active":true,"timeZone":"Etc/UTC"},"created":"2012-07-11T10:39:19.589+0000","size":266691,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12536013/StringUtils.java"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12536014","id":"12536014","filename":"StringUtilsArraysJoinTest.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drag0nius","name":"drag0nius","key":"drag0nius","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Krzysztof Nazarewski","active":true,"timeZone":"Etc/UTC"},"created":"2012-07-11T10:39:44.115+0000","size":3224,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12536014/StringUtilsArraysJoinTest.java"}],"aggregatetimeestimate":60,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"74633","customfield_12312823":null,"summary":"StringUtils.join() endIndex, bugged for loop","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drag0nius","name":"drag0nius","key":"drag0nius","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Krzysztof Nazarewski","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drag0nius","name":"drag0nius","key":"drag0nius","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Krzysztof Nazarewski","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":60,"percent":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":60,"percent":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12597881/comment/13408623","id":"13408623","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sebb%40apache.org","name":"sebb@apache.org","key":"sebb@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sebb","active":true,"timeZone":"Etc/GMT"},"body":"I think it's the Javadoc that is wrong, because the method is called internally e.g. here:\n\n{code}\npublic static String join(Object[] array, char separator) {\n     ...\n     return join(array, separator, 0, array.length);\n}\n{code}\n\nIf the Javadoc is correct, then that method also needs to be fixed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sebb%40apache.org","name":"sebb@apache.org","key":"sebb@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sebb","active":true,"timeZone":"Etc/GMT"},"created":"2012-07-07T11:21:21.094+0000","updated":"2012-07-07T11:21:21.094+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12597881/comment/13410752","id":"13410752","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=groovemeister","name":"groovemeister","key":"groovemeister","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Feeling Groovy","active":true,"timeZone":"America/Los_Angeles"},"body":"The parameter description for join(Object array, String sep, int begining inde, int end index) is wrong as it states that the last index is exclusive and must not go past the end of the array. So the description is wring or the implementation is wrong. The suggest fix fixes it and then the javadoc also needs changing.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=groovemeister","name":"groovemeister","key":"groovemeister","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Feeling Groovy","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-07-10T19:58:39.220+0000","updated":"2012-07-10T19:58:39.220+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12597881/comment/13411282","id":"13411282","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=joehni","name":"joehni","key":"joehni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=joehni&avatarId=36575","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=joehni&avatarId=36575","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=joehni&avatarId=36575","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=joehni&avatarId=36575"},"displayName":"Joerg Schaible","active":true,"timeZone":"Europe/Berlin"},"body":"Sorry, but I cannot see what should be wrong here. Javadoc states that endIndex is exclusive and that's exactly what the method does and what is required in the implementation of Sebb's comment (the valid array index runs from 0 to array.length-1).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=joehni","name":"joehni","key":"joehni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=joehni&avatarId=36575","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=joehni&avatarId=36575","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=joehni&avatarId=36575","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=joehni&avatarId=36575"},"displayName":"Joerg Schaible","active":true,"timeZone":"Europe/Berlin"},"created":"2012-07-11T06:54:16.700+0000","updated":"2012-07-11T06:54:16.700+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12597881/comment/13411295","id":"13411295","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=groovemeister","name":"groovemeister","key":"groovemeister","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Feeling Groovy","active":true,"timeZone":"America/Los_Angeles"},"body":"Joerg, Thanks for your quick response to this issue.\n\nRe: (the valid array index runs from 0 to array.length-1)\nNot the case. It accepts array.length as a valid endIndex.\n\n\nAccording to the spec: \n\n     \"endIndex - the index to stop joining from (exclusive). It is an error to pass in an end index past the end of the array\"\n\nThe last index is array.length-1. The method accepts array.length as the last index which is against the stipulation that \"it is an error to pass in an end index past the end of the array.\"\n\nIt would be correct to say:\n\n     \"endIndex - the index to stop joining from (exclusive). It is an error to pass in an end index GREATER THAN THE LENGTH OF THE ARRAY\"\n\n\nAlso, it would be help to have an example with the others such as:\n\n     StringUtils.join([\"A\", \"B\", \"C\"], \":\",1,3)   = \"B:C\"\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=groovemeister","name":"groovemeister","key":"groovemeister","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Feeling Groovy","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-07-11T07:30:51.853+0000","updated":"2012-07-11T07:38:16.008+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12597881/comment/13411325","id":"13411325","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drag0nius","name":"drag0nius","key":"drag0nius","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Krzysztof Nazarewski","active":true,"timeZone":"Etc/UTC"},"body":"Basically {{endIndex}} takes values from 1 to array.length instead of from 0 to {{(array.length - 1)}}\nIn current state {{endIndex}} is \"1-based index\", not \"0-based index\" while Java language uses 0-based indexes, also previous argument {{startIndex}} is 0-based.\n\nIf you put valid endIndex 0, the for loop won't run at all as it checks (i < endIndex) like it was array's length.\n\nLet's say you have 1 element array to join (it does not make practical sense, bu should work), it has index 0 and does not have anything beyond 0 index. \nAccording to JavaDoc only possible combination of startIndex and endIndex would be (0,0).\n{{StringUtils.java, line 3394: for (int i = startIndex; i < endIndex; i++) {}}\nHowever for loop will not execute even single time because {{(i = startIndex = 0)}} is not lower than {{(endIndex = 0)}}, it is equal to endIndex and the result of joining single element array from it's only index 0 to index 0 will be empty string.\n\nTherefore to join that one-element array you need to use combination {{(startIndex = 0, endIndex = 1)}}, where {{(endIndex == array.length)}} is error according to JavaDoc:\n\"endIndex - the index to stop joining from (exclusive). *It is an error to pass in an end index past the end of the array*\"\n\nExample code:\n{code:title=\"test.java\"}\nimport org.apache.commons.lang3.StringUtils;\n\npublic class Test {\n\tpublic static void main(String[] args) {\n\t\tString[] array = new String[] { \"0\", \"1\", \"2\", \"3\" };\n\n\t\tprintResult(array, 0, 0);\n\t\tprintResult(array, 0, 1);\n\t\tprintResult(array, 1, 1);\n\t\tprintResult(array, 2, 3);\n\t\tprintResult(array, 0, 3);\n\t\tprintResult(array, 0, 4);\n\t}\n\n\tpublic static void printResult(String[] array, int startIndex, int endIndex) {\n\t\tSystem.out.println(\"Running:\\tStringUtils.join(array, \\\" \\\", \" + startIndex + \", \" + endIndex + \");\");\n\t\tSystem.out.println(\"Result: \\t\" + StringUtils.join(array, \" \", startIndex, endIndex));\n\t\tSystem.out.println(\"array[\" + startIndex + \"]:\\t'\" + array[startIndex] + '\\'');\n\t\tSystem.out.println(\"array[\" + endIndex + \"]:\\t'\" + array[endIndex] + '\\'');\n\t\tSystem.out.println();\n\t}\n}\n{code}\n\nNow tell me what is wrong with the code, because result is:\n{code}\nRunning:\tStringUtils.join(array, \" \", 0, 0);\nResult: \t\narray[0]:\t'0'\narray[0]:\t'0'\n\nRunning:\tStringUtils.join(array, \" \", 0, 1);\nResult: \t0\narray[0]:\t'0'\narray[1]:\t'1'\n\nRunning:\tStringUtils.join(array, \" \", 1, 1);\nResult: \t\narray[1]:\t'1'\narray[1]:\t'1'\n\nRunning:\tStringUtils.join(array, \" \", 2, 3);\nResult: \t2\narray[2]:\t'2'\narray[3]:\t'3'\n\nRunning:\tStringUtils.join(array, \" \", 0, 3);\nResult: \t0 1 2\narray[0]:\t'0'\narray[3]:\t'3'\n\nRunning:\tStringUtils.join(array, \" \", 0, 4);\nResult: \t0 1 2 3\narray[0]:\t'0'\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 4\n\tat Test.printResult(Test.java:20)\n\tat Test.main(Test.java:12)\n{code}\n\nOh so came up that after fixing that for loop, starting from line 3387 another bug emerges:\n{code}\n\n        int noOfItems = endIndex - startIndex;\n        if (noOfItems <= 0) {\n            return EMPTY;\n        }\n{code}\nshould be:\n{code}\n\n        int noOfItems = endIndex - startIndex + 1;\n        if (noOfItems <= 0) {\n            return EMPTY;\n        }\n{code}\nbecause joining one element should return that one exact element, not an empty string.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drag0nius","name":"drag0nius","key":"drag0nius","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Krzysztof Nazarewski","active":true,"timeZone":"Etc/UTC"},"created":"2012-07-11T08:41:04.644+0000","updated":"2012-07-11T10:05:57.919+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12597881/comment/13411388","id":"13411388","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drag0nius","name":"drag0nius","key":"drag0nius","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Krzysztof Nazarewski","active":true,"timeZone":"Etc/UTC"},"body":"added proposed fix","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drag0nius","name":"drag0nius","key":"drag0nius","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Krzysztof Nazarewski","active":true,"timeZone":"Etc/UTC"},"created":"2012-07-11T10:39:19.647+0000","updated":"2012-07-11T10:40:10.067+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12597881/comment/13411390","id":"13411390","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drag0nius","name":"drag0nius","key":"drag0nius","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Krzysztof Nazarewski","active":true,"timeZone":"Etc/UTC"},"body":"added proposed junit test with some debug printfing","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drag0nius","name":"drag0nius","key":"drag0nius","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Krzysztof Nazarewski","active":true,"timeZone":"Etc/UTC"},"created":"2012-07-11T10:39:44.135+0000","updated":"2012-07-11T10:40:33.383+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12597881/comment/13411408","id":"13411408","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=joehni","name":"joehni","key":"joehni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=joehni&avatarId=36575","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=joehni&avatarId=36575","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=joehni&avatarId=36575","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=joehni&avatarId=36575"},"displayName":"Joerg Schaible","active":true,"timeZone":"Europe/Berlin"},"body":"?? Sorry, but the result is exactly what is expected. There's no fix required. It's just Javadoc that has to be clarified. endIndex is exclusive.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=joehni","name":"joehni","key":"joehni","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=joehni&avatarId=36575","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=joehni&avatarId=36575","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=joehni&avatarId=36575","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=joehni&avatarId=36575"},"displayName":"Joerg Schaible","active":true,"timeZone":"Europe/Berlin"},"created":"2012-07-11T11:38:38.747+0000","updated":"2012-07-11T11:39:58.906+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12597881/comment/13453751","id":"13453751","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"So 3.2 - javadoc fix?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-09-12T06:01:50.099+0000","updated":"2012-09-12T06:01:50.099+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12597881/comment/13453880","id":"13453880","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sebb%40apache.org","name":"sebb@apache.org","key":"sebb@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sebb","active":true,"timeZone":"Etc/GMT"},"body":"OK with me to just fix Javadoc","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sebb%40apache.org","name":"sebb@apache.org","key":"sebb@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sebb","active":true,"timeZone":"Etc/GMT"},"created":"2012-09-12T10:12:19.634+0000","updated":"2012-09-12T10:12:19.634+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12597881/comment/13453898","id":"13453898","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=groovemeister","name":"groovemeister","key":"groovemeister","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Feeling Groovy","active":true,"timeZone":"America/Los_Angeles"},"body":"Anyone who know String.substring(start,end) would be familiar with how this works. However, the Javadoc is not quite as clear with this method.\nAlso, the  reference to end index in the startIndex parameter description should be removed in its entirety. My suggestion is:\n\n== OLD ==\n\nParameters:\narray - the array of values to join together, may be null\nseparator - the separator character to use, null treated as \"\"\nstartIndex - the first index to start joining from. It is an error to pass in an end index past the end of the array\nendIndex - the index to stop joining from (exclusive). It is an error to pass in an end index past the end of the array\n\n== NEW ==\n\nParameters:\narray - the array of values to join together, may be null\nseparator - the separator character to use, null treated as \"\"\nstartIndex - the first index to start joining from\nendIndex - the index to stop joining from (exclusive). It is an error to pass in an end index past the end of the array\n\nThe number of elements joined equals (endIndex - beginIndex). This will throw an exception if the endIndex is larger than the length of the array.\n\n\nThat clears it up for me because it clearly describes the condition that will fail and how to calculate the length as well. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=groovemeister","name":"groovemeister","key":"groovemeister","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Feeling Groovy","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-09-12T10:50:53.839+0000","updated":"2012-09-12T10:50:53.839+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12597881/comment/13454408","id":"13454408","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sebb%40apache.org","name":"sebb@apache.org","key":"sebb@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sebb","active":true,"timeZone":"Etc/GMT"},"body":"Added clarifying Javadoc and examples:\n\nURL: http://svn.apache.org/viewvc?rev=1384145&view=rev\nLog:\nLANG-810 StringUtils.join() endIndex, bugged for loop\n\nModified:\n    commons/proper/lang/trunk/src/changes/changes.xml\n    commons/proper/lang/trunk/src/main/java/org/apache/commons/lang3/StringUtils.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sebb%40apache.org","name":"sebb@apache.org","key":"sebb@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sebb","active":true,"timeZone":"Etc/GMT"},"created":"2012-09-12T21:54:18.042+0000","updated":"2012-09-12T21:54:18.042+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12597881/comment/13454427","id":"13454427","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=groovemeister","name":"groovemeister","key":"groovemeister","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Feeling Groovy","active":true,"timeZone":"America/Los_Angeles"},"body":"The example in the svn JAVADOC is for the different method:\n\nOLD\n\n3169\t     * <pre>\n3170\t     * StringUtils.join(null, *)               = null\n3171\t     * StringUtils.join([], *)                 = \"\"\n3172\t     * StringUtils.join([null], *)             = \"\"\n3173\t     * StringUtils.join([\"a\", \"b\", \"c\"], ';')  = \"a;b;c\"\n3174\t     * StringUtils.join([\"a\", \"b\", \"c\"], null) = \"abc\"\n3175\t     * StringUtils.join([null, \"\", \"a\"], ';')  = \";;a\"\n3176\t     * </pre>\n\n\nSHOULD READ SOMETHING LIKE THIS\n\nStringUtils.join(null,'a',0,0)                   = null\nStringUtils.join(null,'a',999,999)               = null\nStringUtils.join([],'a',0,0)                     = \"\"\nStringUtils.join([],'a',0,1)                     = ERROR\nStringUtils.join([\"a\", \"b\", \"c\"], ';',0,1)       = \"a\"\nStringUtils.join([\"a\", \"b\", \"c\"], ';',0,2)       = \"a;b\"\nStringUtils.join([\"a\", \"b\", \"c\"], ';',0,3)       = \"a;b;c\"\nStringUtils.join([null, null, \"a\"], ';',0,2)     = \";;\"\nStringUtils.join([null, null, \"a\"], ';',0,3)     = \";;a\"\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=groovemeister","name":"groovemeister","key":"groovemeister","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Feeling Groovy","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-09-12T22:10:25.661+0000","updated":"2012-09-12T22:10:25.661+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12597881/comment/13454439","id":"13454439","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=groovemeister","name":"groovemeister","key":"groovemeister","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Feeling Groovy","active":true,"timeZone":"America/Los_Angeles"},"body":"my error. I looked at the wrong svn code!\n\nIt looks very good now with good examples and very easy to understand.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=groovemeister","name":"groovemeister","key":"groovemeister","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Feeling Groovy","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-09-12T22:24:22.667+0000","updated":"2012-09-12T22:26:03.870+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12597881/comment/13454442","id":"13454442","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sebb%40apache.org","name":"sebb@apache.org","key":"sebb@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sebb","active":true,"timeZone":"Etc/GMT"},"body":"Check the recent commit which also updated the examples.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sebb%40apache.org","name":"sebb@apache.org","key":"sebb@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sebb","active":true,"timeZone":"Etc/GMT"},"created":"2012-09-12T22:24:52.962+0000","updated":"2012-09-12T22:24:52.962+0000"}],"maxResults":15,"total":15,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-810/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0d5af:"}}