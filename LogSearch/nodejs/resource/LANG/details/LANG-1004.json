{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12711585","self":"https://issues.apache.org/jira/rest/api/2/issue/12711585","key":"LANG-1004","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326513","id":"12326513","description":"Feature and bugfix release","name":"3.4","archived":false,"released":true,"releaseDate":"2015-04-06"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2014-05-02T17:07:25.652+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Aug 04 12:24:59 UTC 2014","customfield_12310420":"389906","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_8262796191_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-08-04T12:24:59.452+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-1004/watchers","watchCount":2,"isWatching":false},"created":"2014-04-30T21:11:43.303+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326666","id":"12326666","description":"Bugfix release for 3.3.1","name":"3.3.2","archived":false,"released":true,"releaseDate":"2014-04-09"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-04-06T17:28:22.777+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313194","id":"12313194","name":"lang.text.*"}],"timeoriginalestimate":null,"description":"This method has several flaws:\n\n1. Javadoc says: \"The format used is ISO8601-like: H:m:s.S.\" but the method call supplies \"H:mm:ss.SSS\"\n2. ISO time never omits leading zeros, so the proper pattern must be \"HH:mm:ss.SSS\"\n3. The method name says: \"HMS\" but includes the second fraction.\n\nSince the use of fractions is optional, the method should use \"HH:mm:ss\" and update the Javadoc as well.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12643261","id":"12643261","filename":"LANG-1004.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michael-o","name":"michael-o","key":"michael-o","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Osipov","active":true,"timeZone":"Europe/Berlin"},"created":"2014-05-04T10:56:33.514+0000","size":5218,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12643261/LANG-1004.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"390147","customfield_12312823":null,"summary":"DurationFormatUtils#formatDurationHMS implementation does not correspond to Javadoc and vice versa","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michael-o","name":"michael-o","key":"michael-o","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Osipov","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michael-o","name":"michael-o","key":"michael-o","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Osipov","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12711585/comment/13987660","id":"13987660","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michael-o","name":"michael-o","key":"michael-o","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Osipov","active":true,"timeZone":"Europe/Berlin"},"body":"Benedikt. have a look at the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michael-o","name":"michael-o","key":"michael-o","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Osipov","active":true,"timeZone":"Europe/Berlin"},"created":"2014-05-02T13:12:16.657+0000","updated":"2014-05-02T13:12:16.657+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12711585/comment/13987919","id":"13987919","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"body":"Hi Michael,\n\nnice patch! However I'm a bit afraid this change will break clients that are using the method as it is now. What do you think? The main use case is probably formatting for displaying a value (in the GUI or in some kind of log file). So it may not be a problem?\n\nBenedikt\n\nEDIT: how about providing a new method called {{formatDurationISOHMS}} which formats the way you propose?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"created":"2014-05-02T17:07:25.652+0000","updated":"2014-05-02T17:10:19.909+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12711585/comment/13988341","id":"13988341","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michael-o","name":"michael-o","key":"michael-o","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Osipov","active":true,"timeZone":"Europe/Berlin"},"body":"I guess you are right about the usecase but we *cannot* do assumptions about the client. So the impact should be minimal. In this case, we should stick to {{HH:mm:ss.SSS}} and improve the docs. However, we could spawn another ticket for Lang 4 to split method into two methods, one for {{HH:mm:ss}} and one {{formatDurationHMSwithFrac}} or something like this (maybe a boolean flag) which will use {{HH:mm:ss.SSS}}. Same applies for the ISO duration of course.\n\nI wouldn't bloat the API with another method but I would rather add something like I did for [MNG-5176|https://jira.codehaus.org/browse/MNG-5176?focusedCommentId=340413&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-340413].","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michael-o","name":"michael-o","key":"michael-o","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Osipov","active":true,"timeZone":"Europe/Berlin"},"created":"2014-05-02T22:21:33.365+0000","updated":"2014-05-02T22:26:23.411+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12711585/comment/13988347","id":"13988347","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michael-o","name":"michael-o","key":"michael-o","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Osipov","active":true,"timeZone":"Europe/Berlin"},"body":"Have a look at the new patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michael-o","name":"michael-o","key":"michael-o","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Osipov","active":true,"timeZone":"Europe/Berlin"},"created":"2014-05-02T22:25:34.402+0000","updated":"2014-05-02T22:25:34.402+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12711585/comment/13988950","id":"13988950","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"body":"Hello Michael, \n\nAfter applying your patch I get two test failures:\n\n{code}\nFailed tests: \n  StopWatchTest.testStopWatchSimpleGet:55 expected:<0[]:00:00.000> but was:<0[0]:00:00.000>\n  StopWatchTest.testStopWatchSplit:76 Formatted split string not the correct length expected:<12> but was:<11>\n{code}\n\nThose two test cases fail because StopWatch uses DurationFormatUtils internally. You will have to update the tests as well ;)\n\nTIA!\nBenedikt","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"created":"2014-05-04T09:29:10.792+0000","updated":"2014-05-04T09:29:10.792+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12711585/comment/13988960","id":"13988960","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michael-o","name":"michael-o","key":"michael-o","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Osipov","active":true,"timeZone":"Europe/Berlin"},"body":"True, here is an all new patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michael-o","name":"michael-o","key":"michael-o","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Osipov","active":true,"timeZone":"Europe/Berlin"},"created":"2014-05-04T10:56:33.518+0000","updated":"2014-05-04T10:56:33.518+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12711585/comment/13989015","id":"13989015","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"body":"{code}\nbene@localhost:~/workspace/apache/commons/lang$ svn ci -m \"LANG-1004: DurationFormatUtils#formatDurationHMS implementation does not correspond to Javadoc and vice versa. Thanks to Michael Osipov\"\nSending        src/changes/changes.xml\nSending        src/main/java/org/apache/commons/lang3/time/DurationFormatUtils.java\nSending        src/test/java/org/apache/commons/lang3/time/DurationFormatUtilsTest.java\nSending        src/test/java/org/apache/commons/lang3/time/StopWatchTest.java\nTransmitting file data ....\nCommitted revision 1592360.\n{code}\n\nThanks for contributing!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"created":"2014-05-04T15:41:31.470+0000","updated":"2014-05-04T15:41:31.470+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12711585/comment/13989081","id":"13989081","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michael-o","name":"michael-o","key":"michael-o","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Osipov","active":true,"timeZone":"Europe/Berlin"},"body":"With pleasure, being a Commons Lang user for several years and an Apache Maven committer, that's the least I can do.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michael-o","name":"michael-o","key":"michael-o","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Osipov","active":true,"timeZone":"Europe/Berlin"},"created":"2014-05-04T18:27:16.427+0000","updated":"2014-05-04T18:27:29.789+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12711585/comment/14084592","id":"14084592","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmjones500","name":"dmjones500","key":"dmjones500","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dmjones500&avatarId=31601","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dmjones500&avatarId=31601","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dmjones500&avatarId=31601","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dmjones500&avatarId=31601"},"displayName":"Duncan Jones","active":true,"timeZone":"Europe/London"},"body":"Benedikt has committed the patch, thus resolving the issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmjones500","name":"dmjones500","key":"dmjones500","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dmjones500&avatarId=31601","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dmjones500&avatarId=31601","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dmjones500&avatarId=31601","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dmjones500&avatarId=31601"},"displayName":"Duncan Jones","active":true,"timeZone":"Europe/London"},"created":"2014-08-04T12:24:59.486+0000","updated":"2014-08-04T12:24:59.486+0000"}],"maxResults":9,"total":9,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-1004/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1v5sn:"}}