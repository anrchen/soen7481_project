{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13117774","self":"https://issues.apache.org/jira/rest/api/2/issue/13117774","key":"LANG-1368","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2018-02-19T05:24:27.767+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Feb 20 05:24:55 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-1368/watchers","watchCount":2,"isWatching":false},"created":"2017-11-12T07:58:44.114+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-02-20T05:24:55.556+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"I have a 7-way choice/sum/variant class, so that 6 of its 7 fields are null in each object of that class.  When using HashCodeBuilder's reflective hashCode, a 10k line java project works correctly.  When using HashCodeBuilder.append instead, sequential calls to append with a null argument cause the returned hashCode to be inconsistent with EqualsBuilder.  Correct behavior can be restored by appending a dummy non-null field initially:\r\n\r\n\tnew HashCodeBuilder()\r\n\t\t\t\t\t.append(true) //bad return value without this dummy call\r\n\t\t\t\t\t.append(chc1)\r\n...\r\n\t\t\t\t\t.append(chc7)\r\n\t\t\t\t\t.toHashCode();\r\n\t","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"HashCodeBuilder.append incorrect behavior with chains of nulls","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wisnesky","name":"wisnesky","key":"wisnesky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ryan Wisnesky","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wisnesky","name":"wisnesky","key":"wisnesky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ryan Wisnesky","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13117774/comment/16368793","id":"16368793","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=orbot90","name":"orbot90","key":"orbot90","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Iurii","active":true,"timeZone":"Etc/UTC"},"body":"Can you add some test with exact cases that reproduce the issue? I tried running sequences of append with null arguments and I always got a consistent with EqualsBuilder result. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=orbot90","name":"orbot90","key":"orbot90","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Iurii","active":true,"timeZone":"Etc/UTC"},"created":"2018-02-19T05:24:27.767+0000","updated":"2018-02-19T05:24:27.767+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13117774/comment/16368824","id":"16368824","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wisnesky","name":"wisnesky","key":"wisnesky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ryan Wisnesky","active":true,"timeZone":"Etc/UTC"},"body":"I’m sorry, but this has been lost to time.  I can add that it was using the eclipse compiler for java 8 on a Mac.  \n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wisnesky","name":"wisnesky","key":"wisnesky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ryan Wisnesky","active":true,"timeZone":"Etc/UTC"},"created":"2018-02-19T07:06:00.038+0000","updated":"2018-02-19T07:06:00.038+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13117774/comment/16369730","id":"16369730","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=orbot90","name":"orbot90","key":"orbot90","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Iurii","active":true,"timeZone":"Etc/UTC"},"body":"Unfortunately I don't have any Mac machine available to test that. Please let me know if you find out some more info on this issue.\r\n\r\nAnd if someone is able to test that on Mac with eclipse, I guess that would be great also.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=orbot90","name":"orbot90","key":"orbot90","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Iurii","active":true,"timeZone":"Etc/UTC"},"created":"2018-02-20T05:24:55.556+0000","updated":"2018-02-20T05:24:55.556+0000"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-1368/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3mogf:"}}