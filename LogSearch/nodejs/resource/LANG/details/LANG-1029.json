{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12727344","self":"https://issues.apache.org/jira/rest/api/2/issue/12727344","key":"LANG-1029","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2014-07-20T10:45:13.972+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Jul 22 16:38:07 UTC 2014","customfield_12310420":"405450","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_613006858_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-07-22T16:38:07.824+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-1029/watchers","watchCount":3,"isWatching":false},"created":"2014-07-15T14:21:21.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326666","id":"12326666","description":"Bugfix release for 3.3.1","name":"3.3.2","archived":false,"released":true,"releaseDate":"2014-04-09"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chonton","name":"chonton","key":"charles_honton@intuit.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=charles_honton%40intuit.com&avatarId=23130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=charles_honton%40intuit.com&avatarId=23130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=charles_honton%40intuit.com&avatarId=23130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=charles_honton%40intuit.com&avatarId=23130"},"displayName":"Charles Honton","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-10-19T15:24:49.761+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313196","id":"12313196","name":"lang.time.*"}],"timeoriginalestimate":null,"description":"Static FastDateFormat instances don't recognize default TimeZone changes and thus don't behave equal to newly created instances of FastDateFormat or SimpleDateFormat.\n\nI can imagine people using FastDateFormat like this for performance optimization reasons.\n\n{code:title=Test for difference}\n    private static final String DATE_TIME_PATTERN = \"dd.MM.yyyy HH:mm:ss\";\n    private static final FastDateFormat FDF = FastDateFormat.getInstance(DATE_TIME_PATTERN);\n\n    public static void main(String[] args) {\n\n        TimeZone gmtTimeZone = TimeZone.getTimeZone(\"GMT\");\n\n        Calendar date = Calendar.getInstance();\n        date.setTimeZone(gmtTimeZone);\n        date.set(2014, Calendar.JANUARY, 1, 0, 0 ,0);\n\n        TimeZone backupTimeZone = TimeZone.getDefault();\n        TimeZone.setDefault(gmtTimeZone);\n\n        System.out.println(\"FastDateFormat static:\\t\\t\"+ FDF.format(date.getTime()));\n        System.out.println(\"FastDateFormat instance:\\t\" + FastDateFormat.getInstance(DATE_TIME_PATTERN).format(date.getTime()));\n        System.out.println(\"SimpleDateFormat instance:\\t\" + new SimpleDateFormat(DATE_TIME_PATTERN).format(date.getTime()));\n\n        TimeZone.setDefault(backupTimeZone);\n\n    }\n{code}\n{panel:title=Output}\nFastDateFormat static:\t\t01.01.2014 01:00:00\nFastDateFormat instance:\t01.01.2014 00:00:00\nSimpleDateFormat instance:\t01.01.2014 00:00:00\n{panel}\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"405475","customfield_12312823":null,"summary":"FastDateFormat static instance format differently compared to new instance when changing timezone","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sdiedrichsen","name":"sdiedrichsen","key":"sdiedrichsen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sven Diedrichsen","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sdiedrichsen","name":"sdiedrichsen","key":"sdiedrichsen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sven Diedrichsen","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12727344/comment/14067879","id":"14067879","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"body":"Why don't you provide your test as a junit test? ;-)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"created":"2014-07-20T10:45:13.972+0000","updated":"2014-07-20T10:45:13.972+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12727344/comment/14070477","id":"14070477","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chonton","name":"chonton","key":"charles_honton@intuit.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=charles_honton%40intuit.com&avatarId=23130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=charles_honton%40intuit.com&avatarId=23130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=charles_honton%40intuit.com&avatarId=23130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=charles_honton%40intuit.com&avatarId=23130"},"displayName":"Charles Honton","active":true,"timeZone":"America/Los_Angeles"},"body":"The timezone is an invariant of a FastDateFormat.  If changing the global timezone affected the behavior of an instance, the instance would have concurrency concerns.\n\nIf you want the current global timezone to be used on each invocation, use one of the FastDateFormat.getTimeInstance() factory methods which does not take a timezone parameter.  If the timezone has not been changed, you'll get a cached FastDateFormat instance; If the timezone has been changed, you'll get a new FastDateFormat that reflects the current global timezone. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chonton","name":"chonton","key":"charles_honton@intuit.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=charles_honton%40intuit.com&avatarId=23130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=charles_honton%40intuit.com&avatarId=23130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=charles_honton%40intuit.com&avatarId=23130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=charles_honton%40intuit.com&avatarId=23130"},"displayName":"Charles Honton","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-22T16:38:07.852+0000","updated":"2014-07-22T16:38:07.852+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-1029/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1xrvr:"}}