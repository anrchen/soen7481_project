{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12497147","self":"https://issues.apache.org/jira/rest/api/2/issue/12497147","key":"LANG-674","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12325280","id":"12325280","description":"This issue needs a patch before it will move further","name":"Patch Needed","archived":false,"released":false}],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2011-01-30T09:03:31.279+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sun Nov 16 15:39:12 UTC 2014","customfield_12310420":"3004","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-674/watchers","watchCount":3,"isWatching":false},"created":"2011-01-30T03:43:15.207+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-11-16T15:39:12.125+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313200","id":"12313200","name":"lang.math.*"}],"timeoriginalestimate":null,"description":"Stevo SlaviÄ‡ reports on commons-user:\n\nIs there any valid reason why '.' is hardcoded as decimal point\ncharacter in lang.math.NumberUtils, commons-lang (2.6) ? Shouldn't\nthis be locale dependent?","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"63038","customfield_12312823":null,"summary":"NumberUtils and decimal point character","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497147/comment/12988557","id":"12988557","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scolebourne","name":"scolebourne","key":"scolebourne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Colebourne","active":true,"timeZone":"Europe/London"},"body":"NumberUtils should match Java source code, which requires a dot.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=scolebourne","name":"scolebourne","key":"scolebourne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stephen Colebourne","active":true,"timeZone":"Europe/London"},"created":"2011-01-30T09:03:31.279+0000","updated":"2011-01-30T09:03:31.279+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497147/comment/12988629","id":"12988629","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sslavic","name":"sslavic","key":"sslavic","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sslavic&avatarId=16595","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sslavic&avatarId=16595","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sslavic&avatarId=16595","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sslavic&avatarId=16595"},"displayName":"Stevo Slavic","active":true,"timeZone":"Europe/Berlin"},"body":"With plain Java I can parse String number representations with either dot or comma as decimal point character depending on locale, but not with commons-lang 2.6 lang.math API. See java.text.NumberFormat, java.text.DecimalFormatSymbols.decimalSeparator.\n\nE.g.\n\nNumberFormat.getNumberInstance(Locale.US).parse(sPrice)\n\nwill properly handle price string with dot as decimal point character for US locale while\n\nNumberFormat.getNumberInstance(new Locale(\"nl\")).parse(sPrice);\n\nwill properly handle price string with comma as decimal point character for Dutch locale.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sslavic","name":"sslavic","key":"sslavic","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sslavic&avatarId=16595","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sslavic&avatarId=16595","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sslavic&avatarId=16595","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sslavic&avatarId=16595"},"displayName":"Stevo Slavic","active":true,"timeZone":"Europe/Berlin"},"created":"2011-01-30T18:38:27.935+0000","updated":"2013-10-27T12:57:10.868+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497147/comment/13096760","id":"13096760","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bentels","name":"bentels","key":"bentels","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ben Tels","active":true,"timeZone":"Etc/UTC"},"body":"I have to say I agree with Stevo that something is rotten in the state of Denmark with this one. True, what exactly is wrong depends on your point of view, but it is definitely something.\n\nIf, as Stephen says, the semantics of NumberUtils should match those of Java sourcecode, then the simple problem is that the documentation on the methods in NumberUtils doesn't SAY that. Or otherwise doesn't say that you're supposed to use input formatted according to the en_US locale.\n\nFrom a different point of view, the (larger) problem may indeed be that the NumberUtils methods do not take locale into account. In the nl locale, as Stevo says, the value \"123,4\" is a valid number equivalent to 1234/10.\n\nPerhaps a good solution is to do both: overload all the methods that take String arguments to take a Locale argument as well, then put in the documentation that the existing methods implicitly use locale en_US.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bentels","name":"bentels","key":"bentels","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ben Tels","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-03T21:09:57.549+0000","updated":"2011-09-03T21:09:57.549+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497147/comment/13797711","id":"13797711","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"body":"Provided it doesn't balloon the source + API, I like Ben's solution. Improve documentation and provide the Locale option.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bayard","name":"bayard","key":"bayard","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henri Yandell","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-17T08:23:11.502+0000","updated":"2013-10-17T08:23:11.502+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497147/comment/14189911","id":"14189911","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mtruchado","name":"mtruchado","key":"mtruchado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marcos Truchado","active":true,"timeZone":"Etc/UTC"},"body":"Hi\n\nI was hit yesterday by this issue. As today the docummentation is:\n\n--\npublic static boolean isNumber(String str)\n\nChecks whether the String a valid Java number.\n\nValid numbers include hexadecimal marked with the 0x qualifier, scientific notation and numbers marked with a type qualifier (e.g. 123L).\n--\n\nIt might be useful to add a hint warning about the use of locales and this class do not play well together. A NumberUtils that supports locale would be an excellent feature, play with parsing/unparsing requires ugly code taking care of checked exceptions and so on.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mtruchado","name":"mtruchado","key":"mtruchado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marcos Truchado","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-30T10:29:23.393+0000","updated":"2014-10-30T10:29:23.393+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497147/comment/14213947","id":"14213947","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sebb%40apache.org","name":"sebb@apache.org","key":"sebb@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sebb","active":true,"timeZone":"Etc/GMT"},"body":"One might say that isNumber uses the 'Java' Locale.\nAFAIK Java does not allow anything other than \".\" as the decimal point marker.\n\nHowever, I agree that other methods in the class might benefit from Locale-specific versions.\nAnd the ones that assume a specific Locale should say so.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sebb%40apache.org","name":"sebb@apache.org","key":"sebb@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sebb","active":true,"timeZone":"Etc/GMT"},"created":"2014-11-16T15:39:12.125+0000","updated":"2014-11-16T15:39:12.125+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-674/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0b5pr:"}}