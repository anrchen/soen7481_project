{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12667797","self":"https://issues.apache.org/jira/rest/api/2/issue/12667797","key":"LANG-915","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310481","id":"12310481","key":"LANG","name":"Commons Lang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310481&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310481&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310481&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310481&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10260","id":"10260","description":"Apache Commons components","name":"Commons"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12325851","id":"12325851","description":"Bug fixes and and new features including: DifferenceBuilder, ClassPathUtils, RandomUtils and Jaro-Winkler String distance metric","name":"3.3","archived":false,"released":true,"releaseDate":"2014-03-04"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-09-10T12:54:31.036+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Oct 02 16:22:16 UTC 2015","customfield_12310420":"347733","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_10628435083_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-01-11T13:08:03.382+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-915/watchers","watchCount":5,"isWatching":false},"created":"2013-09-10T12:47:28.329+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317550","id":"12317550","description":"November release from 3.x","name":"3.1","archived":false,"released":true,"releaseDate":"2011-11-14"}],"issuelinks":[{"id":"12374988","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12374988","type":{"id":"12310010","name":"Incorporates","inward":"is part of","outward":"incorporates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310010"},"inwardIssue":{"id":"12637175","key":"MARMOTTA-155","self":"https://issues.apache.org/jira/rest/api/2/issue/12637175","fields":{"summary":"3-char lang-tags are not accepted","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12446321","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12446321","type":{"id":"12310050","name":"Regression","inward":"is broken by","outward":"breaks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310050"},"outwardIssue":{"id":"12902708","key":"LANG-1172","self":"https://issues.apache.org/jira/rest/api/2/issue/12902708","fields":{"summary":"LocaleUtils.toLocale does not handle extensions","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12478191","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12478191","type":{"id":"12310050","name":"Regression","inward":"is broken by","outward":"breaks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310050"},"outwardIssue":{"id":"12998927","key":"LANG-1260","self":"https://issues.apache.org/jira/rest/api/2/issue/12998927","fields":{"summary":"LocaleUtils.toLocale() produces arbitrary locales","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-08-22T18:28:59.891+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"The static method LocaleUtils.toLocale() fails, at least, to parse 3-char locale strings, which are completelly valid BCP47 locales.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12608723","id":"12608723","filename":"LANG-915.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wikier","name":"wikier","key":"wikier","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wikier&avatarId=24566","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wikier&avatarId=24566","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wikier&avatarId=24566","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wikier&avatarId=24566"},"displayName":"Sergio Fernández","active":true,"timeZone":"America/Vancouver"},"created":"2013-10-16T15:35:59.036+0000","size":6238,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12608723/LANG-915.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12608714","id":"12608714","filename":"LANG-915-test.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wikier","name":"wikier","key":"wikier","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wikier&avatarId=24566","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wikier&avatarId=24566","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wikier&avatarId=24566","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wikier&avatarId=24566"},"displayName":"Sergio Fernández","active":true,"timeZone":"America/Vancouver"},"created":"2013-10-16T14:31:22.610+0000","size":1521,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12608714/LANG-915-test.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"348032","customfield_12312823":null,"summary":"Wrong locale handling in LocaleUtils.toLocale()","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wikier","name":"wikier","key":"wikier","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wikier&avatarId=24566","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wikier&avatarId=24566","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wikier&avatarId=24566","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wikier&avatarId=24566"},"displayName":"Sergio Fernández","active":true,"timeZone":"America/Vancouver"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wikier","name":"wikier","key":"wikier","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wikier&avatarId=24566","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wikier&avatarId=24566","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wikier&avatarId=24566","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wikier&avatarId=24566"},"displayName":"Sergio Fernández","active":true,"timeZone":"America/Vancouver"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667797/comment/13763013","id":"13763013","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=garydgregory","name":"garydgregory","key":"garydgregory","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=garydgregory&avatarId=16828","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=garydgregory&avatarId=16828","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=garydgregory&avatarId=16828","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=garydgregory&avatarId=16828"},"displayName":"Gary Gregory","active":true,"timeZone":"America/Denver"},"body":"Could you please provide a unit test patch that demonstrates the problem?\n\nA patch to fix would be welcome as well! :)\n\nGary","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=garydgregory","name":"garydgregory","key":"garydgregory","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=garydgregory&avatarId=16828","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=garydgregory&avatarId=16828","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=garydgregory&avatarId=16828","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=garydgregory&avatarId=16828"},"displayName":"Gary Gregory","active":true,"timeZone":"America/Denver"},"created":"2013-09-10T12:54:31.036+0000","updated":"2013-09-10T12:54:31.036+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667797/comment/13796830","id":"13796830","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wikier","name":"wikier","key":"wikier","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wikier&avatarId=24566","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wikier&avatarId=24566","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wikier&avatarId=24566","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wikier&avatarId=24566"},"displayName":"Sergio Fernández","active":true,"timeZone":"America/Vancouver"},"body":"Sure. Please, find attached a patch for the test suite that arises the issue.\n\nLater I'd try to provide a patch for the issue itself, since a quick look is not enough because the current code implements a very cryptic algorithm with too many magic numbers in it","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wikier","name":"wikier","key":"wikier","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wikier&avatarId=24566","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wikier&avatarId=24566","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wikier&avatarId=24566","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wikier&avatarId=24566"},"displayName":"Sergio Fernández","active":true,"timeZone":"America/Vancouver"},"created":"2013-10-16T14:31:22.614+0000","updated":"2013-10-16T14:31:22.614+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667797/comment/13796898","id":"13796898","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wikier","name":"wikier","key":"wikier","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wikier&avatarId=24566","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wikier&avatarId=24566","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wikier&avatarId=24566","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wikier&avatarId=24566"},"displayName":"Sergio Fernández","active":true,"timeZone":"America/Vancouver"},"body":"Please, find attached a patch for solving the issue with the method LocaleUtils.toLocale() and ISO 639-3 codes, including:\n\n* Completely re-implementation of the locale parsing, due the complexity for adapt the new feature in the current code.\n\n* Implementation compliant with the current tests at LocaleUtilsTest. An invalid assert has been removed.\n\n* Added new test for testing 3-chars locale\n\n* Added a new methof StringUtils.occurrences() which I commonly need, and I needed for this path, although at the end I needed the splited array, so not used in the submitted version. So it could be removed if you don't find it relevant.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wikier","name":"wikier","key":"wikier","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=wikier&avatarId=24566","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wikier&avatarId=24566","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wikier&avatarId=24566","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wikier&avatarId=24566"},"displayName":"Sergio Fernández","active":true,"timeZone":"America/Vancouver"},"created":"2013-10-16T15:35:59.041+0000","updated":"2013-10-16T15:35:59.041+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667797/comment/13868764","id":"13868764","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"body":"Hello Sergio,\n\nI've reviewed your patch. You're using tabs to intend your code. At commons we uses spaces instead, since the representation of the tab character varies between different editors. I've corrected this.\n\nThe new method {{StringUtils.occurences(String, String)}} seems to duplicate {{StringUtils.countMatches(CharSequence, CharSequence)}}. I've removed it. Your new method caused {{StringUtilsTest.testStringUtilsCharSequenceContract()}} to fail. It's always good to run {{mvn clean test}} before creating a patch, to be sure everything still works.\n\nAll tests pass now. I've committed your patch in rev. 1557378.\n\nThanks for contributing!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=britter","name":"britter","key":"britter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=britter&avatarId=18287","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=britter&avatarId=18287","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=britter&avatarId=18287","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=britter&avatarId=18287"},"displayName":"Benedikt Ritter","active":true,"timeZone":"Europe/Berlin"},"created":"2014-01-11T13:07:48.103+0000","updated":"2014-01-11T13:07:48.103+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667797/comment/14941330","id":"14941330","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djbuhler","name":"djbuhler","key":"djbuhler","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Buhler","active":true,"timeZone":"America/Edmonton"},"body":"I believe this ticket should be reconsidered for reopening. The current implementation that was introduced here does not support language code sub tags, instead only allowing three parameters.\n\nYou can see the specification for sub tags [here|https://tools.ietf.org/html/bcp47#section-4]. Oracle documentation for sub tag extensions can be found [here|https://docs.oracle.com/javase/tutorial/i18n/locale/extensions.html].","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djbuhler","name":"djbuhler","key":"djbuhler","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Buhler","active":true,"timeZone":"America/Edmonton"},"created":"2015-10-02T16:22:16.062+0000","updated":"2015-10-02T16:22:16.062+0000"}],"maxResults":5,"total":5,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LANG-915/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1nymf:"}}